<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.140.0"><title>Charlie's Rethinking</title>
<meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=5" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=/scss/dark-mode.min.cb53f1bee2b8900cb4f082afbf00175d6618f281cf9a2fe8619e3b52d20b5721.css integrity="sha256-y1PxvuK4kAy08IKvvwAXXWYY8oHPmi/oYZ47UtILVyE=" media=screen><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Material+Icons"></head><body><div id=app><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item false" href=/posts>归档
</a><a class="a-block drawer-menu-item false" href=/categories>分类
</a><a class="a-block drawer-menu-item false" href=/tags>标签
</a><a class="a-block drawer-menu-item false" href=/about>关于
</a><a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu
</i></button>
<a id=navTitle class=navbar-brand href=https://forcemz.net/>Charlie's Rethinking
</a><button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://forcemz.net/><div class=single-column-header-title>Charlie's Rethinking</div><div class=single-column-header-subtitle>Themed by Diary.</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-no-background"><a href=/posts/2018/2018-06-24-git-wire-protocol/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git Wire 协议杂谈</div><div class=post-item-summary><h1 id=前言>前言</h1><p>注意本文的 <strong>GIT 传输协议</strong> 仅代表 <strong>智能传输协议</strong></p><p>美国当地时间 5月18日 Google 开发者发布了一篇博客 <a href=https://opensource.googleblog.com/2018/05/introducing-git-protocol-version-2.html>Introducing Git protocol version 2</a> 宣布了 Git v2 Protocol，v2 协议又叫做 Git Wire Protocol，新协议旨在改进 Git 的传输过程。Git 不是有个好好的传输协议，为什么要重新弄一个？</p></div><div class=post-item-meta>2018-06-24
&emsp;
&emsp;</div></div></div></div><a href=/posts/2018/2018-03-22-git-submodule-rethinking/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git Submodule 的反思</div><div class=post-item-summary><h2 id=git-submodule-介绍>Git Submodule 介绍</h2><p>Git Submodule 翻译成中文叫做<code>子模块</code>，将一个存储库（如 B）作为另一个（如 A）存储库的子目录，这个存储库就可以称之为 B 是 A 的子模块。
在 ProGit2: <a href=https://git-scm.com/book/en/v2/Git-Tools-Submodules>https://git-scm.com/book/en/v2/Git-Tools-Submodules</a>, Git-SCM 官网：<a href=https://www.git-scm.com/docs/gitsubmodules>https://www.git-scm.com/docs/gitsubmodules</a>，对 submodule 有非常详细的介绍。</p></div><div class=post-item-meta>2018-03-22
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-12-06-massive-repositories-and-git/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git 巨型存储库的解决方案</div><div class=post-item-summary><h2 id=前言>前言</h2><p>通常来说，分布式版本控制系统适合体积较小的存储库，<a href=https://en.wikipedia.org/wiki/Distributed_version_control>分布式版本控制系统</a> 意味着存储库和工作目录都放置在开发者自己的机器上，当开发者需要克隆一个巨大的存储库时，为了获得完整的拷贝，版本控制软件不得不从远程服务器上下载大量的数据。这是分布式版本控制系统最大的缺陷之一。</p></div><div class=post-item-meta>2017-12-06
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-11-27-asio-graceful-restart/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>基于 Asio 的服务器平滑重启方案</div><div class=post-item-summary><h2 id=前言>前言</h2><p>与客户端程序不同的是，服务端程序要尽可能的长时间运行，故障时能够自动恢复，并且更新时不能影响服务正在处理的请求。这就产生了平滑重启的功能需求。实际上，网络上比较流行的 HTTP 服务器 Nginx 就支持平滑重启。而 apache httpd 同样支持。码云分布式以后，很多功能被分解成一个个的服务，比如存储机器上的 git-srv, git-diamond 等等，为了平台的稳定运行，也需要支持平滑重启。</p></div><div class=post-item-meta>2017-11-27
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-11-22-git-native-hook-depth-optimization/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git 原生钩子的深度优化</div><div class=post-item-summary><h2 id=前言>前言</h2><p>Git 是最流行的版本控制工具，和大多数版本控制工具一样，Git 也拥有钩子特性，用户可以利用钩子实现一些附加功能，在 《Pro Git v2》 中，对钩子类型，消息格式等有详细介绍： <a href=https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks>8.3 Customizing Git - Git Hooks</a>。</p></div><div class=post-item-meta>2017-11-22
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-09-01-kisasum-hash-utility/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Kisasum Hash 实用工具</div><div class=post-item-summary><h2 id=kisasum-hash-实用工具>Kisasum Hash 实用工具</h2><p>Kismet 是笔者开发的一个计算 Hash 的图形化工具，有桌面版本 Kismet 和 UWP 版本 KismetUWP。 在前面的 Blog 中有介绍：
<a href=http://forcemz.net/developer/2017/05/14/Kismet/>Kismet 杂谈</a></p><p>KismetUWP 截图如下：</p><p><img src=https://github.com/fcharlie/KismetUWP/raw/master/docs/images/none.png alt=u1></p><p>当人们使用一系列命令完成工作时，这个时候优先需要命令行工具。</p></div><div class=post-item-meta>2017-09-01
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-07-31-git-secure-with-powershell/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>基于 Powershell Core 的 Git 存储库加密方案</div><div class=post-item-summary><h2 id=背景>背景</h2><p>虽然码云提供免费私有存储库，但一些用户还是认为网站管理员可以看到他们的源码，认为私有库也不太安全。而且这些用户也没有私有化部署的打算。如何消除他们的疑虑？使用笔者开发的 <strong>Git-Secure</strong> 就可以实现存储库的加密。项目开源地址：<a href=https://gitee.com/oscstudio/git-secure>Git-Secure</a></p></div><div class=post-item-meta>2017-07-31
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-07-29-clangbuild-and-libcxx/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Clangbuilder 和 libcxx</div><div class=post-item-summary><h1 id=前言>前言</h1><p>作为一个 C++ 开发者，自然少不了与编译器打交道。
笔者在 2013年1月17日 发布了第一个 ClangOnWindows 二进制包 <a href=https://sourceforge.net/projects/clangonwin/>ClangOnWindows</a>，截至 2017-07-29，一共被下载 19212 次，实际上构建 LLVM/Clang 是一个非常耗时的事，于是乎笔者于 2014 年国庆节期间编写了 Clangbuilder，这是一个基于 Powershell 的 LLVM/Clang 自动化构建工具，能够自动下载工具链（除 Visual Studio）,自动获取 LLVM 源码，自动执行构建命令。Clangbuilder 的初期并不支持 libcxx 的构建，原因无他，当时 libcxx 不支持 Windows (for MSVC)，现在依然如此，不过现在可以使用 <code>clang-cl</code> 构建 libcxx。本文即介绍通过 Clangbuilder 构建 libcxx。</p></div><div class=post-item-meta>2017-07-29
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-06-05-color-console/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Privexec 的内幕（一）标准输出原理与彩色输出实现</div><div class=post-item-summary><h1 id=前言>前言</h1><p><a href=https://github.com/M2Team/Privexec>Privexec</a> 是笔者借鉴远景好友 MouriNaruto 的 <a href=https://github.com/M2Team/NSudo>NSudo</a> 而开发的一个<strong>提权或者降权</strong>执行进程的工具。其中 wsudo 是 Privexec 的命令行版本。</p><p>在 wsudo 中，笔者使用了 Privexec.Console 提供彩色输出，截图如下：</p><p><img src=https://raw.githubusercontent.com/M2Team/Privexec/master/docs/images/wsudo.png alt=wsudo></p><p><img src=https://raw.githubusercontent.com/M2Team/Privexec/master/docs/images/wsudo3.png alt=wsudo3></p><p>本文将讲述标准输出是如何输出到控制台的，以及怎样在 Windows 中实现同时支持标准控制台和 MSYS2 Cygwin 终端模拟器以及 VT 模式的控制台彩色输出。</p></div><div class=post-item-meta>2017-06-05
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-05-14-kismet/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Kismet 杂谈</div><div class=post-item-summary><h1 id=前言>前言</h1><p>年初以来，互联网安全领域频繁发生大事件，二月下旬，Google 研究人员攻破了 SHA-1算法，在版本控制领域，主要的版本控制系统都使用了 SHA-1 算法<sup>1</sup>，由于工作需要，我对此格外关注，也了解了其他 SHA 算法，比如 SHA-256/SHA-512 ，基于 Keccak 的 SHA-3 等，寻找 GUI Hash 计算工具时发现大多数工具都未提供 SHA-3 算法支持，并且界面也不符合我的喜好，在闲暇时间，我就开发了 kismat Hash 计算工具，包括传统的Win32 桌面程序和 UWP 程序。</p></div><div class=post-item-meta>2017-05-14
&emsp;
&emsp;</div></div></div></div></a></div></div></div><div id=sideContainer class=side-container><a class="a-block nav-head active" href=https://forcemz.net/><div class=nav-title>Charlie's Rethinking</div><div class=nav-subtitle>Themed by Diary.</div></a><div class=nav-link-list><a class="a-block nav-link-item false" href=/posts>归档
</a><a class="a-block nav-link-item false" href=/categories>分类
</a><a class="a-block nav-link-item false" href=/tags>标签
</a><a class="a-block nav-link-item false" href=/about>关于
</a><a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><div id=extraContainer class=extra-container><div class=toc-wrapper></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up
</i></a><a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode
</span></a><a class=pagination-action href=/page/3/><i class="material-icons pagination-action-icon">chevron_left</i></a><div class=pagination-indicator><span style=text-align:center>4<br><div style=display:inline-block;transform:rotate(-28deg)>-</div><br>6</span></div><a class=pagination-action href=/page/5/><i class="material-icons pagination-action-icon">chevron_right</i></a></div></div><div class=pagination><a class=pagination-action href=/page/3/ style=opacity:1><i class="material-icons pagination-action-icon">chevron_left</i></a><div class=pagination-indicator><span>4/6</span></div><a class=pagination-action href=/page/5/ style=opacity:1><i class="material-icons pagination-action-icon">chevron_right</i></a></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><script src=/js/journal.js></script></body></html>