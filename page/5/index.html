<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.140.0"><title>Charlie's Rethinking</title>
<meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=5" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=/scss/dark-mode.min.cb53f1bee2b8900cb4f082afbf00175d6618f281cf9a2fe8619e3b52d20b5721.css integrity="sha256-y1PxvuK4kAy08IKvvwAXXWYY8oHPmi/oYZ47UtILVyE=" media=screen><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Material+Icons"></head><body><div id=app><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item false" href=/posts>归档
</a><a class="a-block drawer-menu-item false" href=/categories>分类
</a><a class="a-block drawer-menu-item false" href=/tags>标签
</a><a class="a-block drawer-menu-item false" href=/about>关于
</a><a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu
</i></button>
<a id=navTitle class=navbar-brand href=https://forcemz.net/>Charlie's Rethinking
</a><button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://forcemz.net/><div class=single-column-header-title>Charlie's Rethinking</div><div class=single-column-header-subtitle>Themed by Diary.</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-no-background"><a href=/posts/2017/2017-05-11-angelo/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>基于 AspNetCore 的 Git HTTP 服务器</div><div class=post-item-summary><h1 id=关于>关于</h1><p>Git HTTP 服务器是代码托管服务最重要的组件之一，Git HTTP 服务器将 HTTP 请求的数据写入到 git-upload-pack/git-receive-pack 的标准输入，然后读取 git-upload-pack/git-receive-pack 的输出，写入 HTTP 响应包体，然后传输给客户端。原理非常简单。</p></div><div class=post-item-meta>2017-05-11
&emsp;
&emsp;</div></div></div></div><a href=/posts/2017/2017-04-16-moses/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git LFS 服务器实现杂谈</div><div class=post-item-summary><h1 id=前言>前言</h1><p>从前言开始，便又要讲起 git 原理，多次讲起不胜其烦，诸位如果要了解 git 原理可以通过 bing google 或者其他搜索引擎从网络上查阅资料，也可以去 git-scm.com 网站查看 《Pro Git》，对于大多数开发者而言已是足够。</p></div><div class=post-item-meta>2017-04-16
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-12-31-total/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>2016 技术总结</div><div class=post-item-summary><p><strong>先说说公司的吧：</strong></p><p>最初开发了 Miracle 项目，这个项目是 nginx 动态代理和 svn 动态代理，然后共用路由库 cratos。</p><p>后来又开发者 Illusory 项目，最初实现了 git-upload-pack git-receive-pack 的包装，然后后端服务器上运行 git-srv 就可以实现 git 任意协议的动态代理。
为了减少中间环节，新的 ssh 服务器直接与 git-srv 通讯。于是 git-srv 也就改进了。</p></div><div class=post-item-meta>2016-12-31
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-11-05-brzo/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>码云分布式之 Brzo 服务器</div><div class=post-item-summary><h1 id=前言>前言</h1><p>码云是国内最大的代码托管平台之一。码云基于 Gitlab 5.5 开发，经过几年的开发已经和官方的 Gitlab 有了很大的不同。
为了支撑更大的用户规模，码云也在不断的改进，而本文也主要分享码云分布式 Brzo GIT HTTP 服务器的开发经验。</p></div><div class=post-item-meta>2016-11-05
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-11-03-win32-download-feature/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Windows 下载功能的实现 - C++ 篇</div><div class=post-item-summary><h1 id=前言>前言</h1><p>笔者计划开发一个自用的包管理工具，需要支持下载功能，笔者尝试了多种 Windows 下载 API，这里分享出来。</p><h2 id=urldownloadtofile>URLDownloadToFile</h2><p>自 Internet Explorer 3.0 开始，Urlmon.dll 中开始提供 URLDownloadToFile，支持从远程服务器上下载文件到本地。
URLDownloadToFile 会先将文件下载到 IE 缓存目录，然后再复制到设置的输出目录，如果第二次下载，就省去了下载时间。
Urlmon 还提供了下载到缓存目录的函数 URLDownloadToCacheFile，正因为 URLDownloadToFile 先下载到缓存目录，
就会出现缓存问题，可以使用 Wininet 中的 DeleteUrlCacheEntry 删除缓存。</p></div><div class=post-item-meta>2016-11-03
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-08-12-git-analyze/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git Analyze 工具实现与原理</div><div class=post-item-summary><h1 id=前言>前言</h1><p>作为一个提供免费私有仓库的代码托管平台，码云要考虑利用现有的硬件资源支持更多的用户，一些用户占用较多的硬件资源实际上是对其他用户用户体验的一种损害，因此码云对用户的存储库大小有一定的限制。</p></div><div class=post-item-meta>2016-08-11
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-07-16-git-transport-implement/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git 传输协议实现</div><div class=post-item-summary><h1 id=git-传输协议实现>GIT 传输协议实现</h1><p>在 GIT 的三种主流传输协议 HTTP SSH GIT 中，GIT 协议是最少被使用的协议（也就是 URL 以 <code>git://</code> 开始的协议）。
这是由于 git 协议的权限控制几乎没有，要么全部可读，要么全部可写，要么全部可读写。所以对于代码托管平台来说，
git 协议的目的仅仅是为了支持 公开项目的只读访问。</p></div><div class=post-item-meta>2016-07-16
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-07-09-git-storage/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Git 存储格式与运用</div><div class=post-item-summary><h1 id=git-存储格式与运用>GIT 存储格式与运用</h1><p>在 GIT 的实现规范中，存储格式是非常简单而且高效的，一个代码托管平台通常需要基于这些特性实现一非常有意思的功能。
在本文中，将介绍基于 GIT 存储库格式实现的仓库体积限制与大文件检查。</p></div><div class=post-item-meta>2016-07-09
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-06-04-windows-ssh-server/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Windows 10 原生 SSH 功能探索</div><div class=post-item-summary><h1 id=windows-10-原生-ssh-功能探索>Windows 10 原生 SSH 功能探索</h1><p>在 Windows 10 Insider 14352 中，增加了两个服务 SshBrokerGroup SshProxyGroup，
通过命令</p><p><code>netstat -aon |findstr "22"</code></p><p>即可找到 端口 22 绑定的进程也就是 SshProxyGroup 服务进程，而 22 端口是 SSH 服务器监听的端口，
在 Windows 目录 <em>C:\Windows\System32</em> 可以发现 几个与 SSH 相关的 dll 和 exe：</p></div><div class=post-item-meta>2016-06-04
&emsp;
&emsp;</div></div></div></div><a href=/posts/2016/2016-04-23-windows-containers/ class=a-block><div class=post-item-wrapper><div class="post-item post-item-no-divider"><div class=post-item-info-wrapper><div class=post-item-title>Windows Containers 与 Project Centennial</div><div class=post-item-summary><h1 id=windows-containers-与-project-centennial>Windows Containers 与 Project Centennial</h1><p>随着 Windows 10 Redstone 和 Windows Server 2016 发布日益临近,一些重要的功能也逐渐披露到公众面前。
最让笔者觉得有意思的是 Containers 功能。笔者曾经写过一篇关于应用程序降权的文章：
<a href=http://forcemz.net/container/2015/06/12/AppContainer/>Windows AppContainer 降权，隔离与安全</a> ) 提到了
如何降低应用程序进程权限，与 Containers 相比，AppContainer 并未将进程与操作系统完全隔离开来，计算资源并不能自定义限制，
并且很多一部分 Win32 API 都无法在基于 AppContainer 创建的进程中运行。</p></div><div class=post-item-meta>2016-04-23
&emsp;
&emsp;</div></div></div></div></a></div></div></div><div id=sideContainer class=side-container><a class="a-block nav-head active" href=https://forcemz.net/><div class=nav-title>Charlie's Rethinking</div><div class=nav-subtitle>Themed by Diary.</div></a><div class=nav-link-list><a class="a-block nav-link-item false" href=/posts>归档
</a><a class="a-block nav-link-item false" href=/categories>分类
</a><a class="a-block nav-link-item false" href=/tags>标签
</a><a class="a-block nav-link-item false" href=/about>关于
</a><a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><div id=extraContainer class=extra-container><div class=toc-wrapper></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up
</i></a><a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode
</span></a><a class=pagination-action href=/page/4/><i class="material-icons pagination-action-icon">chevron_left</i></a><div class=pagination-indicator><span style=text-align:center>5<br><div style=display:inline-block;transform:rotate(-28deg)>-</div><br>6</span></div><a class=pagination-action href=/page/6/><i class="material-icons pagination-action-icon">chevron_right</i></a></div></div><div class=pagination><a class=pagination-action href=/page/4/ style=opacity:1><i class="material-icons pagination-action-icon">chevron_left</i></a><div class=pagination-indicator><span>5/6</span></div><a class=pagination-action href=/page/6/ style=opacity:1><i class="material-icons pagination-action-icon">chevron_right</i></a></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><script src=/js/journal.js></script></body></html>