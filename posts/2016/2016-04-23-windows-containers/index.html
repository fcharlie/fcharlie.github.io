<!doctype html><html lang=en><head><title>Windows Containers 与 Project Centennial</title>
<meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=5" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><script src=/js/toc.js></script><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=/scss/dark-mode.min.cb53f1bee2b8900cb4f082afbf00175d6618f281cf9a2fe8619e3b52d20b5721.css integrity="sha256-y1PxvuK4kAy08IKvvwAXXWYY8oHPmi/oYZ47UtILVyE=" media=screen><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Material+Icons"></head><body><div id=app><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item active" href=/posts>归档
</a><a class="a-block drawer-menu-item false" href=/categories>分类
</a><a class="a-block drawer-menu-item false" href=/tags>标签
</a><a class="a-block drawer-menu-item false" href=/about>关于
</a><a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a><div class=toc><div class=toc-content><center>- CATALOG -</center><ul><li><a href=#windows-containers-%e4%b8%8e-project-centennial class=nav-windows-containers-与-project-centennial>Windows Containers 与 Project Centennial</a></li><ul><li><a href=#win32-%e7%9a%84%e7%aa%98%e8%bf%ab class=nav-win32-的窘迫>Win32 的窘迫</a></li><li><a href=#containers-%e4%b9%8b%e5%89%8d class=nav-containers-之前>Containers 之前</a></li><li><a href=#windows-containers-%e7%aa%a5%e8%a7%86 class=nav-windows-containers-窥视>Windows Containers 窥视</a></li><li><a href=#%e9%99%84%e6%b3%a8 class=nav-附注>附注</a></li><li><a href=#resources class=nav-resources>Resources</a></li></ul></div></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu
</i></button>
<a id=navTitle class=navbar-brand href=https://forcemz.net/>江二十三的思考
</a><button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://forcemz.net/><div class=single-column-header-title>江二十三的思考</div><div class=single-column-header-subtitle>Themed by Diary.</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>Windows Containers 与 Project Centennial<div class=post-meta><time itemprop=datePublished>2016-04-23 18:30
</time><i class=material-icons>folder</i>
<a href=/categories/container>container</a>
&nbsp;</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><h1 id=windows-containers-与-project-centennial>Windows Containers 与 Project Centennial</h1><p>随着 Windows 10 Redstone 和 Windows Server 2016 发布日益临近,一些重要的功能也逐渐披露到公众面前。
最让笔者觉得有意思的是 Containers 功能。笔者曾经写过一篇关于应用程序降权的文章：
<a href=http://forcemz.net/container/2015/06/12/AppContainer/>Windows AppContainer 降权，隔离与安全</a> ) 提到了
如何降低应用程序进程权限，与 Containers 相比，AppContainer 并未将进程与操作系统完全隔离开来，计算资源并不能自定义限制，
并且很多一部分 Win32 API 都无法在基于 AppContainer 创建的进程中运行。</p><p>Microsoft 为了丰富 Windows Store 应用的数量, 推出了几类 App Convert, 将非 UWP App 移植到 UWP 平台上来，其中有
Win32/COM 的 Project Centennial 即 DesktopAppConveter, DesktopAppConverter 的实现依赖 Windows Containers。</p><h2 id=win32-的窘迫>Win32 的窘迫</h2><p>从 Windows 8 开始，Windows 推出了 Store App, Store App 运行在一个 AppContainer 中， 操作系统通过 AppContainer 技术
实现了进程权限的隔离，由于 UAC 的限制，App 无法访问大多数的文件系统目录，也不能进行一些重要的操作，许多系统对进程 UAC
权限存在依赖的 API 也无法被直接调用。一些系统的 Store App 只得依赖各种 Runtime Broker 通过 LPC 来实现重要的操作。</p><p>对于 Store App 来说，使用全新的 API 和不同以往的安全策略，在 AppContainer 中运行恰到好处，而 Win32 App 同样可以运行在
AppContainer 中 (在以前的文章中，我曾经写过一个如何启动基于 Windows AppConatiner 的传统 Win32 应用程序：
，不过，依赖传统配置和文件系统的应用程序如若使用 AppConatiner ，大量的功能将无法使用，这就使得 Windows 面临
一个困境，经历二十多年的积累，Win32 应用的存量已经非常可观，然而 Win32 应用却无法在 Store 中运行，Store 中 App 稀少。</p><p>对于传统桌面应用来说，使用虚拟机隔离又显得笨重，缓慢，使用 AppContainer 很多功能又无法直接使用，如果使用 Containers 技术，
那么是再好不过的选择了。</p><p>另一方面，Windows 之前并没有一个官方的 Containers 技术，特别是随着 Azure 云服务的推出，微软迫切需要一个 Win32 的 Containers 技术。</p><p>在 Windows 10 Redstone Insider 14316 中，只存在于 Windows Server 2016 TP 的 Containers 作为一个可选的功能被添加到了 企业版镜像中，
在 Windows 10 Redstone Insider 14328 中，Containers 被添加到专业版功能当中。笔者才有幸去了解其中的奥秘。</p><p>在 Windows Containers 被推出之前，有个基于 Windows Job Object 的 Containers 方案是WinDocks。</p><h2 id=containers-之前>Containers 之前</h2><p>Windows 有一个重要的功能，即 Windows Job Object, 即 Windows 作业,作业可以将一组进程当作单个实体来处理，作业能够限制进程的 CPU 时间，
内存大小，以及 CPU 亲和性，在 Windows 平台上，有些沙箱应用就使用了作业，而 Visual Studio 在构建项目时使用了作业，当用户取消构建时，
作业中的进程都被终止，也就是多进程编译可以被终止。</p><p>这其实也是与 Windows NT 的进程模型有关，NT 系统并未维护进程之间的父子关系，这与 POSIX 系统存在比较明显的区别。</p><p>容器隔离的重点是文件系统的隔离，NTFS 是一种分层文件系统，支持符号链接和硬链接，这些是文件系统虚拟化的基石，在 Windows 64 发布之初，
Windows 便支持了文件系统的重定向，即 SysWOW64 ，对于运行在 Windows 64 位系统的 32 位应用程序，如果访问 System32 目录中的文件会被
定向到 SysWOW64 目录下，所以我们可以发现，32位应用在 64位系统打开的 cmd 也是32位的。</p><p>Windows 还可以通过卷挂载，软链接等策略是先文件系统的虚拟化和隔离，为了兼容 XP 以前的应用程序，Windows 创建了 C:\User 的软链接
C:\Documents and Settings 。</p><p>从 Office 2013 起，Office 的安装采用 VFS 机制安装，目录 C:\Program Files\Microsoft Office\root\VFS 目录便是 VFS 的 C:\，
而 DesktopAppConverter 多少是吸收了 Office 的经验的。</p><p>在 Windows 中，注册表的重要性不言而喻，与 Linux containers 一样，配置文件的隔离一样是非常重要的，Windows 注册表内部存储表现为储巢（Hive）,
注册表存储时并不是一个巨大的，单一的文件，而是分布在不同目录的配置文件，操作系统只需要单独挂载特定的注册表数据就可以实现注册表的隔离。</p><p>注册表 Hive List:</p><blockquote><p>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\hivelist</p></blockquote><p>重定向 hive</p><blockquote><p>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\hiveredirectionlist</p></blockquote><p>关于注册表，运行在64位系统中的32位应用程序访问注册表时，默认情况下会被定位到 WOW6432Node 键下。</p><h2 id=windows-containers-窥视>Windows Containers 窥视</h2><p>Windows 大多数功能通过动态链接库提供，也就是通常说的 dll, 我们可以使用 <a href=http://www.dependencywalker.com/>Dependency Walker</a> 去了解
这些 dll 的导入导入函数，从而观察到 dll 主要的功能。也可以使用 IDA Pro 之类的专业工具。</p><p>Windows Containers 相关的 dll 有 container.dll container_xml.dll CCG.dll 其中 container.dll 实现了容器的创建，运行，修改，和删除等功能。
从附注中我们可以发现，container 主要是 C++ 实现，然后使用 C 导出 API 函数。</p><p>我们可以推测 WcCreateContainers 的原型</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#58a1dd>BOOL</span> <span style=color:#58a1dd>WINAPI</span> <span style=color:#58a1dd>WcCreateContainers</span>(<span style=color:#58a1dd>LPHANDLE</span> <span style=color:#58a1dd>lppContainer</span>,<span style=color:#58a1dd>LPCWSTR</span> <span style=color:#58a1dd>destName</span>,<span style=color:#58a1dd>BOOL</span> <span style=color:#58a1dd>flags</span>);
</span></span></code></pre></div><p>在 C:\Windows\System32\containers 目录下，有关 Windows Object (通常是 HANDLE) 对象的重定向</p><p>而 CCG.exe CCGLaunchPad.dll 则是 Windows Container Credential Guard Server</p><p>在 WOW64 系统中，同样存在 Container.dll ，说明 Container 技术在 Win32 中是存在的。</p><h2 id=附注>附注</h2><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>/// container.dll Import function
</span></span><span style=display:flex><span>Address          Ordinal Name                                                                                                    Library                                  
</span></span><span style=display:flex><span>-------          ------- ----                                                                                                    -------                                  
</span></span><span style=display:flex><span>000000001002A000         FilterConnectCommunicationPort                                                                          FLTLIB                                   
</span></span><span style=display:flex><span>000000001002A004         FilterLoad                                                                                              FLTLIB                                   
</span></span><span style=display:flex><span>000000001002A008         FilterSendMessage                                                                                       FLTLIB                                   
</span></span><span style=display:flex><span>000000001002A00C         FilterDetach                                                                                            FLTLIB                                   
</span></span><span style=display:flex><span>000000001002A010         FilterAttach                                                                                            FLTLIB                                   
</span></span><span style=display:flex><span>000000001002A018         CreateCompartment                                                                                       IPHLPAPI                                 
</span></span><span style=display:flex><span>000000001002A01C         DeleteCompartment                                                                                       IPHLPAPI                                 
</span></span><span style=display:flex><span>000000001002A020         InitializeCompartmentEntry                                                                              IPHLPAPI                                 
</span></span><span style=display:flex><span>000000001002A024         SetJobCompartmentId                                                                                     IPHLPAPI                                 
</span></span><span style=display:flex><span>000000001002A028         GetJobCompartmentId                                                                                     IPHLPAPI                                 
</span></span><span style=display:flex><span>000000001002A030         UuidToStringW                                                                                           RPCRT4                                   
</span></span><span style=display:flex><span>000000001002A034         RpcStringFreeW                                                                                          RPCRT4                                   
</span></span><span style=display:flex><span>000000001002A03C         IsDebuggerPresent                                                                                       api-ms-win-core-debug-l1-1-1             
</span></span><span style=display:flex><span>000000001002A040         OutputDebugStringW                                                                                      api-ms-win-core-debug-l1-1-1             
</span></span><span style=display:flex><span>000000001002A048         UnhandledExceptionFilter                                                                                api-ms-win-core-errorhandling-l1-1-1     
</span></span><span style=display:flex><span>000000001002A04C         SetUnhandledExceptionFilter                                                                             api-ms-win-core-errorhandling-l1-1-1     
</span></span><span style=display:flex><span>000000001002A050         SetLastError                                                                                            api-ms-win-core-errorhandling-l1-1-1     
</span></span><span style=display:flex><span>000000001002A054         GetLastError                                                                                            api-ms-win-core-errorhandling-l1-1-1     
</span></span><span style=display:flex><span>000000001002A05C         GetVolumePathNameW                                                                                      api-ms-win-core-file-l1-2-1              
</span></span><span style=display:flex><span>000000001002A060         CreateFileW                                                                                             api-ms-win-core-file-l1-2-1              
</span></span><span style=display:flex><span>000000001002A064         GetVolumeNameForVolumeMountPointW                                                                       api-ms-win-core-file-l1-2-1              
</span></span><span style=display:flex><span>000000001002A06C         CloseHandle                                                                                             api-ms-win-core-handle-l1-1-0            
</span></span><span style=display:flex><span>000000001002A074         HeapAlloc                                                                                               api-ms-win-core-heap-l1-2-0              
</span></span><span style=display:flex><span>000000001002A078         GetProcessHeap                                                                                          api-ms-win-core-heap-l1-2-0              
</span></span><span style=display:flex><span>000000001002A07C         HeapFree                                                                                                api-ms-win-core-heap-l1-2-0              
</span></span><span style=display:flex><span>000000001002A084         InitializeSListHead                                                                                     api-ms-win-core-interlocked-l1-2-0       
</span></span><span style=display:flex><span>000000001002A08C         DeviceIoControl                                                                                         api-ms-win-core-io-l1-1-1                
</span></span><span style=display:flex><span>000000001002A094         GetModuleFileNameA                                                                                      api-ms-win-core-libraryloader-l1-2-0     
</span></span><span style=display:flex><span>000000001002A098         GetModuleHandleExW                                                                                      api-ms-win-core-libraryloader-l1-2-0     
</span></span><span style=display:flex><span>000000001002A0A0         FormatMessageW                                                                                          api-ms-win-core-localization-l1-2-1      
</span></span><span style=display:flex><span>000000001002A0A8         ExpandEnvironmentStringsW                                                                               api-ms-win-core-processenvironment-l1-2-0
</span></span><span style=display:flex><span>000000001002A0B0         GetCurrentThreadId                                                                                      api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0B4         ResumeThread                                                                                            api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0B8         GetCurrentProcessId                                                                                     api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0BC         CreateProcessAsUserW                                                                                    api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0C0         OpenProcessToken                                                                                        api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0C4         TerminateProcess                                                                                        api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0C8         IsProcessorFeaturePresent                                                                               api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0CC         CreateProcessW                                                                                          api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0D0         GetCurrentProcess                                                                                       api-ms-win-core-processthreads-l1-1-2    
</span></span><span style=display:flex><span>000000001002A0D8         QueryPerformanceCounter                                                                                 api-ms-win-core-profile-l1-1-0           
</span></span><span style=display:flex><span>000000001002A0E0         RegGetValueW                                                                                            api-ms-win-core-registry-l1-1-0          
</span></span><span style=display:flex><span>000000001002A0E4         RegCloseKey                                                                                             api-ms-win-core-registry-l1-1-0          
</span></span><span style=display:flex><span>000000001002A0E8         RegQueryValueExW                                                                                        api-ms-win-core-registry-l1-1-0          
</span></span><span style=display:flex><span>000000001002A0F0         RegOpenKeyW                                                                                             api-ms-win-core-registry-l2-2-0          
</span></span><span style=display:flex><span>000000001002A0F8         PathFileExistsW                                                                                         api-ms-win-core-shlwapi-legacy-l1-1-0    
</span></span><span style=display:flex><span>000000001002A100         AcquireSRWLockExclusive                                                                                 api-ms-win-core-synch-l1-2-0             
</span></span><span style=display:flex><span>000000001002A104         ReleaseSRWLockExclusive                                                                                 api-ms-win-core-synch-l1-2-0             
</span></span><span style=display:flex><span>000000001002A10C         GetSystemTimeAsFileTime                                                                                 api-ms-win-core-sysinfo-l1-2-1           
</span></span><span style=display:flex><span>000000001002A110         GetWindowsDirectoryW                                                                                    api-ms-win-core-sysinfo-l1-2-1           
</span></span><span style=display:flex><span>000000001002A118         VerQueryValueW                                                                                          api-ms-win-core-version-l1-1-0           
</span></span><span style=display:flex><span>000000001002A120         GetFileVersionInfoW                                                                                     api-ms-win-core-version-l1-1-1           
</span></span><span style=display:flex><span>000000001002A124         GetFileVersionInfoSizeW                                                                                 api-ms-win-core-version-l1-1-1           
</span></span><span style=display:flex><span>000000001002A12C         _o___std_exception_copy                                                                                 api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A130         _o___std_exception_destroy                                                                              api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A134         _o___std_type_info_destroy_list                                                                         api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A138         _o___std_type_info_name                                                                                 api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A13C         _o___stdio_common_vsnprintf_s                                                                           api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A140         _o___stdio_common_vswprintf                                                                             api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A144         _o__callnewh                                                                                            api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A148         _o__cexit                                                                                               api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A14C         _o__configure_narrow_argv                                                                               api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A150         _o__crt_atexit                                                                                          api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A154         _o__errno                                                                                               api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A158         _o__execute_onexit_table                                                                                api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A15C         _o__initialize_narrow_environment                                                                       api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A160         _o__initialize_onexit_table                                                                             api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A164         _o__invalid_parameter_noinfo                                                                            api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A168         _o__invalid_parameter_noinfo_noreturn                                                                   api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A16C         memmove                                                                                                 api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A170         _o__purecall                                                                                            api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A174         memcpy                                                                                                  api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A178         _o__register_onexit_function                                                                            api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A17C         _o__seh_filter_dll                                                                                      api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A180         _o__wcsicmp                                                                                             api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A184         _o_calloc                                                                                               api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A188         _o_free                                                                                                 api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A18C         _o_iswalnum                                                                                             api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A190         _o_malloc                                                                                               api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A194         _o_memset                                                                                               api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A198         _o_terminate                                                                                            api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A19C         _o_wcscpy_s                                                                                             api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1A0         _except_handler4_common                                                                                 api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1A4         _CxxThrowException                                                                                      api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1A8         __CxxFrameHandler3                                                                                      api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1AC         __std_terminate                                                                                         api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1B0         __RTDynamicCast                                                                                         api-ms-win-crt-private-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1B8         _initterm                                                                                               api-ms-win-crt-runtime-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1BC         _initterm_e                                                                                             api-ms-win-crt-runtime-l1-1-0            
</span></span><span style=display:flex><span>000000001002A1C4         wcsncmp                                                                                                 api-ms-win-crt-string-l1-1-0             
</span></span><span style=display:flex><span>000000001002A1CC         EventActivityIdControl                                                                                  api-ms-win-eventing-provider-l1-1-0      
</span></span><span style=display:flex><span>000000001002A1D0         EventSetInformation                                                                                     api-ms-win-eventing-provider-l1-1-0      
</span></span><span style=display:flex><span>000000001002A1D4         EventUnregister                                                                                         api-ms-win-eventing-provider-l1-1-0      
</span></span><span style=display:flex><span>000000001002A1D8         EventWriteTransfer                                                                                      api-ms-win-eventing-provider-l1-1-0      
</span></span><span style=display:flex><span>000000001002A1DC         EventRegister                                                                                           api-ms-win-eventing-provider-l1-1-0      
</span></span><span style=display:flex><span>000000001002A1E4         SetTokenInformation                                                                                     api-ms-win-security-base-l1-2-0          
</span></span><span style=display:flex><span>000000001002A1E8         DuplicateTokenEx                                                                                        api-ms-win-security-base-l1-2-0          
</span></span><span style=display:flex><span>000000001002A1F0         ?gbump@?$basic_streambuf@GU?$char_traits@G@std@@@std@@IAEXH@Z                                           msvcp_win                                
</span></span><span style=display:flex><span>000000001002A1F4         ?pbump@?$basic_streambuf@GU?$char_traits@G@std@@@std@@IAEXH@Z                                           msvcp_win                                
</span></span><span style=display:flex><span>000000001002A1F8         ??0?$basic_ios@GU?$char_traits@G@std@@@std@@IAE@XZ                                                      msvcp_win                                
</span></span><span style=display:flex><span>000000001002A1FC         ??0?$basic_ostream@GU?$char_traits@G@std@@@std@@QAE@PAV?$basic_streambuf@GU?$char_traits@G@std@@@1@_N@Z msvcp_win                                
</span></span><span style=display:flex><span>000000001002A200         ?_Osfx@?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEXXZ                                              msvcp_win                                
</span></span><span style=display:flex><span>000000001002A204         ?flush@?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV12@XZ                                         msvcp_win                                
</span></span><span style=display:flex><span>000000001002A208         ??1?$basic_ios@GU?$char_traits@G@std@@@std@@UAE@XZ                                                      msvcp_win                                
</span></span><span style=display:flex><span>000000001002A20C         ?sputn@?$basic_streambuf@GU?$char_traits@G@std@@@std@@QAE_JPBG_J@Z                                      msvcp_win                                
</span></span><span style=display:flex><span>000000001002A210         ?setstate@?$basic_ios@GU?$char_traits@G@std@@@std@@QAEXH_N@Z                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A214         ?id@?$ctype@G@std@@2V0locale@2@A                                                                        msvcp_win                                
</span></span><span style=display:flex><span>000000001002A218         ?_BADOFF@std@@3_JB                                                                                      msvcp_win                                
</span></span><span style=display:flex><span>000000001002A21C         ?uncaught_exception@std@@YA_NXZ                                                                         msvcp_win                                
</span></span><span style=display:flex><span>000000001002A220         ?_Getgloballocale@locale@std@@CAPAV_Locimp@12@XZ                                                        msvcp_win                                
</span></span><span style=display:flex><span>000000001002A224         ??0_Lockit@std@@QAE@H@Z                                                                                 msvcp_win                                
</span></span><span style=display:flex><span>000000001002A228         ??1_Lockit@std@@QAE@XZ                                                                                  msvcp_win                                
</span></span><span style=display:flex><span>000000001002A22C         ?_Syserror_map@std@@YAPBDH@Z                                                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A230         ?_Xlength_error@std@@YAXPBD@Z                                                                           msvcp_win                                
</span></span><span style=display:flex><span>000000001002A234         ?_Winerror_map@std@@YAHH@Z                                                                              msvcp_win                                
</span></span><span style=display:flex><span>000000001002A238         ?_Xbad_function_call@std@@YAXXZ                                                                         msvcp_win                                
</span></span><span style=display:flex><span>000000001002A23C         ??6?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV01@H@Z                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A240         ??6?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV01@J@Z                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A244         ?setw@std@@YA?AU?$_Smanip@_J@1@_J@Z                                                                     msvcp_win                                
</span></span><span style=display:flex><span>000000001002A248         ??Bid@locale@std@@QAEIXZ                                                                                msvcp_win                                
</span></span><span style=display:flex><span>000000001002A24C         ??0?$basic_streambuf@GU?$char_traits@G@std@@@std@@IAE@XZ                                                msvcp_win                                
</span></span><span style=display:flex><span>000000001002A250         ?widen@?$ctype@G@std@@QBEGD@Z                                                                           msvcp_win                                
</span></span><span style=display:flex><span>000000001002A254         ?_Getcat@?$ctype@G@std@@SAIPAPBVfacet@locale@2@PBV42@@Z                                                 msvcp_win                                
</span></span><span style=display:flex><span>000000001002A258         ?_Xbad_alloc@std@@YAXXZ                                                                                 msvcp_win                                
</span></span><span style=display:flex><span>000000001002A25C         ?getloc@ios_base@std@@QBE?AVlocale@2@XZ                                                                 msvcp_win                                
</span></span><span style=display:flex><span>000000001002A260         ??6?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV01@K@Z                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A264         ?_Xout_of_range@std@@YAXPBD@Z                                                                           msvcp_win                                
</span></span><span style=display:flex><span>000000001002A268         ?_Winerror_message@std@@YAKKPADK@Z                                                                      msvcp_win                                
</span></span><span style=display:flex><span>000000001002A26C         ??6?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV01@I@Z                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A270         ??6?$basic_ostream@GU?$char_traits@G@std@@@std@@QAEAAV01@P6AAAVios_base@1@AAV21@@Z@Z                    msvcp_win                                
</span></span><span style=display:flex><span>000000001002A274         ??1?$basic_ostream@GU?$char_traits@G@std@@@std@@UAE@XZ                                                  msvcp_win                                
</span></span><span style=display:flex><span>000000001002A278         ?imbue@?$basic_streambuf@GU?$char_traits@G@std@@@std@@MAEXABVlocale@2@@Z                                msvcp_win                                
</span></span><span style=display:flex><span>000000001002A27C         ?sync@?$basic_streambuf@GU?$char_traits@G@std@@@std@@MAEHXZ                                             msvcp_win                                
</span></span><span style=display:flex><span>000000001002A280         ?setbuf@?$basic_streambuf@GU?$char_traits@G@std@@@std@@MAEPAV12@PAG_J@Z                                 msvcp_win                                
</span></span><span style=display:flex><span>000000001002A284         ?xsputn@?$basic_streambuf@GU?$char_traits@G@std@@@std@@MAE_JPBG_J@Z                                     msvcp_win                                
</span></span><span style=display:flex><span>000000001002A288         ?xsgetn@?$basic_streambuf@GU?$char_traits@G@std@@@std@@MAE_JPAG_J@Z                                     msvcp_win                                
</span></span><span style=display:flex><span>000000001002A28C         ?uflow@?$basic_streambuf@GU?$char_traits@G@std@@@std@@MAEGXZ                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A290         ?showmanyc@?$basic_streambuf@GU?$char_traits@G@std@@@std@@MAE_JXZ                                       msvcp_win                                
</span></span><span style=display:flex><span>000000001002A294         ?_Unlock@?$basic_streambuf@GU?$char_traits@G@std@@@std@@UAEXXZ                                          msvcp_win                                
</span></span><span style=display:flex><span>000000001002A298         ?_Lock@?$basic_streambuf@GU?$char_traits@G@std@@@std@@UAEXXZ                                            msvcp_win                                
</span></span><span style=display:flex><span>000000001002A29C         ?sputc@?$basic_streambuf@GU?$char_traits@G@std@@@std@@QAEGG@Z                                           msvcp_win                                
</span></span><span style=display:flex><span>000000001002A2A0         ??1?$basic_streambuf@GU?$char_traits@G@std@@@std@@UAE@XZ                                                msvcp_win                                
</span></span><span style=display:flex><span>000000001002A2A8         RtlNtStatusToDosErrorNoTeb                                                                              ntdll                                    
</span></span><span style=display:flex><span>000000001002A2AC         NtSetInformationJobObject                                                                               ntdll                                    
</span></span><span style=display:flex><span>000000001002A2B0         NtQueryInformationJobObject                                                                             ntdll                                    
</span></span><span style=display:flex><span>000000001002A2B4         NtAssignProcessToJobObject                                                                              ntdll                                    
</span></span><span style=display:flex><span>000000001002A2B8         NtOpenSymbolicLinkObject                                                                                ntdll                                    
</span></span><span style=display:flex><span>000000001002A2BC         NtQuerySymbolicLinkObject                                                                               ntdll                                    
</span></span><span style=display:flex><span>000000001002A2C0         RtlInitUnicodeString                                                                                    ntdll                                    
</span></span><span style=display:flex><span>000000001002A2C4         NtCreateFile                                                                                            ntdll                                    
</span></span><span style=display:flex><span>000000001002A2C8         NtQuerySecurityObject                                                                                   ntdll                                    
</span></span><span style=display:flex><span>000000001002A2CC         TpWaitForJobNotification                                                                                ntdll                                    
</span></span><span style=display:flex><span>000000001002A2D0         TpAllocJobNotification                                                                                  ntdll                                    
</span></span><span style=display:flex><span>000000001002A2D4         TpReleaseJobNotification                                                                                ntdll                                    
</span></span><span style=display:flex><span>000000001002A2D8         NtSaveKeyEx                                                                                             ntdll                                    
</span></span><span style=display:flex><span>000000001002A2DC         RtlStringFromGUIDEx                                                                                     ntdll                                    
</span></span><span style=display:flex><span>000000001002A2E0         NtSetValueKey                                                                                           ntdll                                    
</span></span><span style=display:flex><span>000000001002A2E4         NtCreateKey                                                                                             ntdll                                    
</span></span><span style=display:flex><span>000000001002A2E8         NtLoadKeyEx                                                                                             ntdll                                    
</span></span><span style=display:flex><span>000000001002A2EC         NtUnloadKey2                                                                                            ntdll                                    
</span></span><span style=display:flex><span>000000001002A2F0         NtOpenKey                                                                                               ntdll                                    
</span></span><span style=display:flex><span>000000001002A2F4         NtEnumerateKey                                                                                          ntdll                                    
</span></span><span style=display:flex><span>000000001002A2F8         NtDeleteKey                                                                                             ntdll                                    
</span></span><span style=display:flex><span>000000001002A2FC         RtlConnectToSm                                                                                          ntdll                                    
</span></span><span style=display:flex><span>000000001002A300         RtlSendMsgToSm                                                                                          ntdll                                    
</span></span><span style=display:flex><span>000000001002A304         NtOpenSection                                                                                           ntdll                                    
</span></span><span style=display:flex><span>000000001002A308         NtMakeTemporaryObject                                                                                   ntdll                                    
</span></span><span style=display:flex><span>000000001002A30C         NtCreateSymbolicLinkObject                                                                              ntdll                                    
</span></span><span style=display:flex><span>000000001002A310         NtQueryDirectoryObject                                                                                  ntdll                                    
</span></span><span style=display:flex><span>000000001002A314         NtOpenDirectoryObject                                                                                   ntdll                                    
</span></span><span style=display:flex><span>000000001002A318         NtSetInformationSymbolicLink                                                                            ntdll                                    
</span></span><span style=display:flex><span>000000001002A31C         NtOpenSemaphore                                                                                         ntdll                                    
</span></span><span style=display:flex><span>000000001002A320         NtOpenEvent                                                                                             ntdll                                    
</span></span><span style=display:flex><span>000000001002A324         NtCreateDirectoryObjectEx                                                                               ntdll                                    
</span></span><span style=display:flex><span>000000001002A328         NtOpenMutant                                                                                            ntdll                                    
</span></span><span style=display:flex><span>000000001002A32C         NtOpenFile                                                                                              ntdll                                    
</span></span></code></pre></div><p>以下是 container.dll 和 containerxml.dll 的导出函数</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-txt data-lang=txt><span style=display:flex><span>// container.dll from IDA Pro
</span></span><span style=display:flex><span>Name                                                                                                                                                                                                    Address          Ordinal
</span></span><span style=display:flex><span>----                                                                                                                                                                                                    -------          ----+++
</span></span><span style=display:flex><span>container::ContainerDescription::ContainerDescription(void)                                                                                                                                             0000000010006300 1      
</span></span><span style=display:flex><span>container::Node::~Node(void)                                                                                                                                                                            0000000010011B90 2      
</span></span><span style=display:flex><span>container::Filesystem::AccessMask(uint)                                                                                                                                                                 0000000010007210 3      
</span></span><span style=display:flex><span>container::Registry2::AccessMask(uint)                                                                                                                                                                  0000000010008280 4      
</span></span><span style=display:flex><span>container::Registry::AccessMask(uint)                                                                                                                                                                   0000000010007A20 5      
</span></span><span style=display:flex><span>container::AddRuntimeVirtualKeysToContainer(void *,ulong,_WC_VKEY_INFO *)                                                                                                                               000000001000D590 6      
</span></span><span style=display:flex><span>container::Registry::Alias(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                   0000000010007A60 7      
</span></span><span style=display:flex><span>container::CleanupContainer(void *,ushort const *)                                                                                                                                                      000000001000C2C0 8      
</span></span><span style=display:flex><span>container::ContainerDescription::Clear(void)                                                                                                                                                            00000000100063C0 9      
</span></span><span style=display:flex><span>container::ObjectManager::CloneSd(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                            0000000010007880 10     
</span></span><span style=display:flex><span>container::Registry::CloneSd(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                 0000000010007AA0 11     
</span></span><span style=display:flex><span>container::Setup::CloneSd(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                    00000000100085C0 12     
</span></span><span style=display:flex><span>container::Network::Compartment(void)                                                                                                                                                                   0000000010007850 13     
</span></span><span style=display:flex><span>container::Registry2::ContainerPath(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                          00000000100082C0 14     
</span></span><span style=display:flex><span>container::Registry::CopyOnWritePolicy(void)                                                                                                                                                            0000000010007BD0 15     
</span></span><span style=display:flex><span>container::Job::Cpu(void)                                                                                                                                                                               00000000100076B0 16     
</span></span><span style=display:flex><span>container::CreateContainer(void *,container::ContainerDescription const &amp;,bool)                                                                                                                         000000001000C410 17     
</span></span><span style=display:flex><span>container::Registry::Data(std::vector&lt;uchar,std::allocator&lt;uchar&gt;&gt; const &amp;)                                                                                                                             0000000010007B20 18     
</span></span><span style=display:flex><span>container::Registry::Data(ulong)                                                                                                                                                                        0000000010007AE0 19     
</span></span><span style=display:flex><span>container::Registry::Data(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                    0000000010007B70 20     
</span></span><span style=display:flex><span>container::Setup::Data(ulong)                                                                                                                                                                           0000000010008600 21     
</span></span><span style=display:flex><span>container::Setup::Data(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                       0000000010008640 22     
</span></span><span style=display:flex><span>container::Filesystem::DeleteSemantics(bool)                                                                                                                                                            0000000010007250 23     
</span></span><span style=display:flex><span>container::Registry::DeleteSemantics(bool)                                                                                                                                                              0000000010007C00 24     
</span></span><span style=display:flex><span>container::ObjectManager::Dir(void)                                                                                                                                                                     00000000100078C0 25     
</span></span><span style=display:flex><span>container::Filesystem::Directives(void)                                                                                                                                                                 0000000010007290 26     
</span></span><span style=display:flex><span>container::Registry::Directives(void)                                                                                                                                                                   0000000010007BB0 27     
</span></span><span style=display:flex><span>container::Filesystem::Directory(void)                                                                                                                                                                  00000000100072B0 28     
</span></span><span style=display:flex><span>container::Filesystem::File(void)                                                                                                                                                                       00000000100072D0 29     
</span></span><span style=display:flex><span>container::Registry2::FilePath(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                               0000000010008440 30     
</span></span><span style=display:flex><span>container::Registry::Flags(uint)                                                                                                                                                                        0000000010007C30 31     
</span></span><span style=display:flex><span>container::GetComRegistryRoot(void *)                                                                                                                                                                   000000001000D480 32     
</span></span><span style=display:flex><span>container::GetContainerIdentifierString(void *)                                                                                                                                                         000000001000D7B0 33     
</span></span><span style=display:flex><span>container::GetContainerObjectRootPath(void *,std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt; &amp;)                                                                               000000001000D8C0 34     
</span></span><span style=display:flex><span>container::GetCurrentVolume(void)                                                                                                                                                                       000000001000CCD0 35     
</span></span><span style=display:flex><span>container::GetRegistryRootPath(void *,std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt; const &amp;,std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt; &amp;)    000000001000D840 36     
</span></span><span style=display:flex><span>container::Registry2::Hive(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                   00000000100083A0 37     
</span></span><span style=display:flex><span>container::Registry2::HiveStack(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                              0000000010008340 38     
</span></span><span style=display:flex><span>container::Registry2::HiveStack(void)                                                                                                                                                                   0000000010008380 39     
</span></span><span style=display:flex><span>container::Registry2::HostHive(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                               0000000010008400 40     
</span></span><span style=display:flex><span>container::Registry2::HostPath(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                               0000000010008300 41     
</span></span><span style=display:flex><span>container::Filesystem2::Identifier(_GUID)                                                                                                                                                               00000000100075C0 42     
</span></span><span style=display:flex><span>container::Registry2::Identifier(_GUID)                                                                                                                                                                 0000000010008480 43     
</span></span><span style=display:flex><span>container::IsContainerQuiescent(void *)                                                                                                                                                                 000000001000CC20 44     
</span></span><span style=display:flex><span>container::Filesystem::Junction(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                              00000000100072F0 45     
</span></span><span style=display:flex><span>container::Registry::Junction(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                0000000010007D00 46     
</span></span><span style=display:flex><span>container::Registry2::Key(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                    0000000010008540 47     
</span></span><span style=display:flex><span>container::Registry::Key(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                     0000000010007D60 48     
</span></span><span style=display:flex><span>container::Registry::Key(void)                                                                                                                                                                          0000000010007D40 49     
</span></span><span style=display:flex><span>container::LaunchApplicationContainer(void *,ushort const *)                                                                                                                                            000000001000CD20 50     
</span></span><span style=display:flex><span>container::LaunchContainer(void *,void *)                                                                                                                                                               000000001000D1C0 51     
</span></span><span style=display:flex><span>container::Filesystem2::Layer(void)                                                                                                                                                                     0000000010007620 52     
</span></span><span style=display:flex><span>container::Registry2::Layer(void)                                                                                                                                                                       00000000100083E0 53     
</span></span><span style=display:flex><span>container::Job::Limit(unsigned __int64)                                                                                                                                                                 00000000100076E0 54     
</span></span><span style=display:flex><span>container::Registry::LinkHive(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                0000000010007DA0 55     
</span></span><span style=display:flex><span>container::Registry::Load(void)                                                                                                                                                                         0000000010007DE0 56     
</span></span><span style=display:flex><span>container::LogException(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt; const &amp;,std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt; const &amp;,ulong,long) 000000001000E2C0 57     
</span></span><span style=display:flex><span>container::Job::Memory(void)                                                                                                                                                                            0000000010007720 58     
</span></span><span style=display:flex><span>container::Filesystem::Merge(void)                                                                                                                                                                      0000000010007330 59     
</span></span><span style=display:flex><span>container::Registry::Merge(void)                                                                                                                                                                        0000000010007E00 60     
</span></span><span style=display:flex><span>container::Setup::MkDir(void)                                                                                                                                                                           00000000100088C0 61     
</span></span><span style=display:flex><span>container::Setup::MkHiv(void)                                                                                                                                                                           00000000100088E0 62     
</span></span><span style=display:flex><span>container::Registry::MkKey(void)                                                                                                                                                                        0000000010007E20 63     
</span></span><span style=display:flex><span>container::Setup::MkKey(void)                                                                                                                                                                           0000000010008900 64     
</span></span><span style=display:flex><span>container::Registry::MkValue(void)                                                                                                                                                                      0000000010007E40 65     
</span></span><span style=display:flex><span>container::Setup::MkValue(void)                                                                                                                                                                         0000000010008920 66     
</span></span><span style=display:flex><span>container::Registry::MultiDelimitedStringData(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                0000000010007E60 67     
</span></span><span style=display:flex><span>container::Setup::MultiDelimitedStringData(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                   0000000010008720 68     
</span></span><span style=display:flex><span>container::Registry::MultiStringData(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                         0000000010008000 69     
</span></span><span style=display:flex><span>container::Setup::MultiStringData(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                            0000000010008680 70     
</span></span><span style=display:flex><span>container::Filesystem::Name(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                  0000000010007350 71     
</span></span><span style=display:flex><span>container::ObjectManager::Name(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                               00000000100078F0 72     
</span></span><span style=display:flex><span>container::Registry::Name(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                    00000000100080A0 73     
</span></span><span style=display:flex><span>container::Setup::Name(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                       0000000010008940 74     
</span></span><span style=display:flex><span>container::Filesystem2::Path(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                 0000000010007650 75     
</span></span><span style=display:flex><span>container::Filesystem::Path(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                  0000000010007390 76     
</span></span><span style=display:flex><span>container::ObjectManager::Path(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                               0000000010007930 77     
</span></span><span style=display:flex><span>container::Registry::Path(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                    00000000100080E0 78     
</span></span><span style=display:flex><span>container::Filesystem::Permit(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                00000000100073D0 79     
</span></span><span style=display:flex><span>container::Registry::Permit(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                  0000000010008120 80     
</span></span><span style=display:flex><span>container::Job::Rate(uint)                                                                                                                                                                              0000000010007750 81     
</span></span><span style=display:flex><span>container::Registry2::ReadOnly(bool)                                                                                                                                                                    00000000100084E0 82     
</span></span><span style=display:flex><span>container::Registry::ReadOnly(bool)                                                                                                                                                                     0000000010008160 83     
</span></span><span style=display:flex><span>container::Registry2::RedirectionNode(void)                                                                                                                                                             0000000010008260 84     
</span></span><span style=display:flex><span>container::RegisterForContainerTerminationNotification(void *,void (*)(void *,_WC_CONTAINER_TERMINATION_REASON,_WC_CONTAINER_NOTIFICATION *,void *),void *)                                             000000001001B960 85     
</span></span><span style=display:flex><span>container::ReleaseContainerTerminationNotification(_WC_CONTAINER_NOTIFICATION *)                                                                                                                        000000001001BA60 86     
</span></span><span style=display:flex><span>container::RemoveRuntimeVirtualKeysFromContainer(void *,ulong,_WC_VKEY_INFO *)                                                                                                                          000000001000D7A0 87     
</span></span><span style=display:flex><span>container::ObjectManager::Scope(container::ObjectManager::SymlinkScope)                                                                                                                                 00000000100079B0 88     
</span></span><span style=display:flex><span>container::SelectChildren(container::Node const &amp;,bool,bool)                                                                                                                                            0000000010011C20 89     
</span></span><span style=display:flex><span>container::SetRegistryFlushState(void *,uchar)                                                                                                                                                          000000001000D340 90     
</span></span><span style=display:flex><span>container::ObjectManager::ShadowDirectory(container::ObjectManager::ShadowOption)                                                                                                                       0000000010007970 91     
</span></span><span style=display:flex><span>container::Filesystem::ShortName(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                             0000000010007410 92     
</span></span><span style=display:flex><span>container::Filesystem::Suppress(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                              0000000010007540 93     
</span></span><span style=display:flex><span>container::Registry::Suppress(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                0000000010008190 94     
</span></span><span style=display:flex><span>container::ObjectManager::Symlink(void)                                                                                                                                                                 00000000100079F0 95     
</span></span><span style=display:flex><span>container::Registry2::Symlink(void)                                                                                                                                                                     0000000010008520 96     
</span></span><span style=display:flex><span>container::Registry::Symlink(void)                                                                                                                                                                      00000000100081D0 97     
</span></span><span style=display:flex><span>container::Registry2::Target(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                 0000000010008580 98     
</span></span><span style=display:flex><span>container::Registry::Target(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                  00000000100081F0 99     
</span></span><span style=display:flex><span>container::ThrowIfBasePackageHostMismatch(_WC_PACKAGE_LAYER *,ulong)                                                                                                                                    000000001000CAE0 100    
</span></span><span style=display:flex><span>container::Registry::TransactionsDisabled(bool)                                                                                                                                                         0000000010008230 101    
</span></span><span style=display:flex><span>container::Visit(container::Node const &amp;,std::function&lt;bool (container::Node const &amp;,int)&gt;,int)                                                                                                         0000000010011CB0 102    
</span></span><span style=display:flex><span>container::Filesystem::Volume(std::basic_string&lt;ushort,std::char_traits&lt;ushort&gt;,std::allocator&lt;ushort&gt;&gt;)                                                                                                0000000010007580 103    
</span></span><span style=display:flex><span>container::WaitForContainerTerminationNotification(_WC_CONTAINER_NOTIFICATION *)                                                                                                                        000000001001BB90 104    
</span></span><span style=display:flex><span>container::Job::Weight(uint)                                                                                                                                                                            00000000100077D0 105    
</span></span><span style=display:flex><span>WcAddRuntimeVirtualKeysToContainer(x,x,x)                                                                                                                                                               000000001000C1D0 106    
</span></span><span style=display:flex><span>WcCleanupContainer(x,x)                                                                                                                                                                                 000000001000C050 107    
</span></span><span style=display:flex><span>WcCreateContainer(x,x,x)                                                                                                                                                                                000000001000C090 108    
</span></span><span style=display:flex><span>WcGetComRegistryRoot(x,x)                                                                                                                                                                               000000001000C230 109    
</span></span><span style=display:flex><span>WcIsContainerQuiescent(x,x)                                                                                                                                                                             000000001000C0F0 110    
</span></span><span style=display:flex><span>WcLaunchApplicationContainer(x,x,x)                                                                                                                                                                     000000001000C140 111    
</span></span><span style=display:flex><span>WcLaunchContainer(x,x)                                                                                                                                                                                  000000001000C190 112    
</span></span><span style=display:flex><span>WcRegisterForContainerTerminationNotification(x,x,x,x)                                                                                                                                                  000000001001B8D0 113    
</span></span><span style=display:flex><span>WcReleaseContainerTerminationNotification(x)                                                                                                                                                            000000001001B920 114    
</span></span><span style=display:flex><span>WcRemoveRuntimeVirtualKeysFromContainer(x,x,x)                                                                                                                                                          000000001000C220 115    
</span></span><span style=display:flex><span>WcSetRegistryFlushState(x,x)                                                                                                                                                                            000000001000C280 116    
</span></span><span style=display:flex><span>WcWaitForContainerTerminationNotification(x)                                                                                                                                                            000000001001B940 117    
</span></span><span style=display:flex><span>DllEntryPoint                                                                                                                                                                                           000000001001CD60        
</span></span><span style=display:flex><span>// container_xml.dll
</span></span><span style=display:flex><span>void container::CreateDescriptionFromXml(void *,unsigned short const * *,unsigned long,bool,class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; const &amp;,struct _WC_PACKAGE_LAYER *,unsigned long,class container::ContainerDescription &amp;)
</span></span><span style=display:flex><span>void container::xml::ReadFromXml(class std::basic_string&lt;unsigned short,struct std::char_traits&lt;unsigned short&gt;,class std::allocator&lt;unsigned short&gt; &gt; const &amp;,bool,class container::xml::Listener *)
</span></span><span style=display:flex><span>WcCreateDescriptionFromXml
</span></span><span style=display:flex><span>WcDestroyDescription
</span></span><span style=display:flex><span>//CCGLaunchPad.dll
</span></span><span style=display:flex><span>CCGInitialize
</span></span><span style=display:flex><span>CCGLaunch
</span></span><span style=display:flex><span>CCGTeardown
</span></span></code></pre></div><p>默认情况下， wchar_t 在 Visual C++ 中是一种内置类型，std::wstring CharT 类型为 wchar_t,而在这些导出符号中，则是 unsigned short 。</p><h2 id=resources>Resources</h2><ul><li><a href=http://windocks.com/blog-2/docker-windows>WinDocks</a></li><li><a href=https://msdn.microsoft.com/en-us/virtualization/windowscontainers/containers_welcome>Windows Containers Documentation</a></li><li><a href=https://channel9.msdn.com/Blogs/Regular-IT-Guy/Quick-Nano-Server-PXE-boot-demo/player>Quick Nano Server PXE boot demo</a></li><li><a href=http://research.microsoft.com/pubs/141071/asplos2011-drawbridge.pdf>Library OS PDF</a></li><li><a href=https://github.com/oscarlab/graphene>Graphene Library OS - Github</a></li><li><a href=https://azure.microsoft.com/en-us/blog/containers-docker-windows-and-trends/>Containers: Docker, Windows and Trends</a></li></ul><hr width=100% id=EOF><p style=color:#777>Last modified on 2016-04-23</p></div></div><nav class=post-pagination><a class=newer-posts href=/posts/2016/2016-06-04-windows-ssh-server/>Next<br>Windows 10 原生 SSH 功能探索
</a><a class=older-posts href=/posts/2015/2015-11-27-new-launcher/>Previous<br>基于清单的启动器的实现</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://forcemz.net/><div class=nav-title>江二十三的思考</div><div class=nav-subtitle>Themed by Diary.</div></a><div class=nav-link-list><a class="a-block nav-link-item active" href=/posts>归档
</a><a class="a-block nav-link-item false" href=/categories>分类
</a><a class="a-block nav-link-item false" href=/tags>标签
</a><a class="a-block nav-link-item false" href=/about>关于
</a><a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><div id=extraContainer class=extra-container><div class=toc-wrapper><div class=toc><div class=toc-content><center>- CATALOG -</center><ul><li><a href=#windows-containers-%e4%b8%8e-project-centennial class=nav-windows-containers-与-project-centennial>Windows Containers 与 Project Centennial</a></li><ul><li><a href=#win32-%e7%9a%84%e7%aa%98%e8%bf%ab class=nav-win32-的窘迫>Win32 的窘迫</a></li><li><a href=#containers-%e4%b9%8b%e5%89%8d class=nav-containers-之前>Containers 之前</a></li><li><a href=#windows-containers-%e7%aa%a5%e8%a7%86 class=nav-windows-containers-窥视>Windows Containers 窥视</a></li><li><a href=#%e9%99%84%e6%b3%a8 class=nav-附注>附注</a></li><li><a href=#resources class=nav-resources>Resources</a></li></ul></div></div></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up
</i></a><a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><script src=/js/journal.js></script></body></html>