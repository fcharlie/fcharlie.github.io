<!doctype html><html lang=en><head><title>ä»‹ç» Bela</title>
<meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=google-site-verification content><meta content="width=device-width,initial-scale=1,maximum-scale=5,user-scalable=5" name=viewport><meta content="telephone=no" name=format-detection><meta name=description content><meta name=renderer content="webkit"><meta name=theme-color content="#ffffff"><script src=/js/toc.js></script><link type=text/css rel=stylesheet href=/vendor/css/bootstrap.min.css><link rel=stylesheet href=/scss/dark-mode.min.cb53f1bee2b8900cb4f082afbf00175d6618f281cf9a2fe8619e3b52d20b5721.css integrity="sha256-y1PxvuK4kAy08IKvvwAXXWYY8oHPmi/oYZ47UtILVyE=" media=screen><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Material+Icons"></head><body><div id=app><div class=single-column-drawer-container id=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block drawer-menu-item active" href=/posts>å½’æ¡£
</a><a class="a-block drawer-menu-item false" href=/categories>åˆ†ç±»
</a><a class="a-block drawer-menu-item false" href=/tags>æ ‡ç­¾
</a><a class="a-block drawer-menu-item false" href=/about>å…³äº
</a><a class="a-block drawer-menu-item false" href=/index.xml>RSS Feed</a><div class=toc><div class=toc-content><center>- CATALOG -</center><ul><li><a href=#%e5%89%8d%e8%a8%80 class=nav-å‰è¨€>å‰è¨€</a></li><li><a href=#%e4%b8%80-bela-%e7%9a%84%e7%bc%98%e7%94%b1 class=nav-ä¸€-bela-çš„ç¼˜ç”±>ä¸€. Bela çš„ç¼˜ç”±</a></li><li><a href=#%e4%ba%8c-bela-%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8a%9f%e8%83%bd%e5%ba%93 class=nav-äºŒ-bela-å­—ç¬¦ä¸²åŠŸèƒ½åº“>äºŒ. Bela å­—ç¬¦ä¸²åŠŸèƒ½åº“</a></li><ul><li><a href=#belaerror_code class=nav-belaerror_code>bela::error_code</a></li><li><a href=#stringcat class=nav-stringcat>StringCat</a></li><li><a href=#ascii class=nav-ascii>Ascii</a></li><li><a href=#%e5%85%b6%e4%bb%96%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%87%bd%e6%95%b0 class=nav-å…¶ä»–å­—ç¬¦ä¸²å‡½æ•°>å…¶ä»–å­—ç¬¦ä¸²å‡½æ•°</a></li><li><a href=#%e7%bc%96%e7%a0%81%e8%bd%ac%e6%8d%a2 class=nav-ç¼–ç è½¬æ¢>ç¼–ç è½¬æ¢</a></li><li><a href=#strformat class=nav-strformat>StrFormat</a></li></ul><li><a href=#%e4%b8%89-bela-windows-%e7%b3%bb%e7%bb%9f%e5%8a%9f%e8%83%bd%e5%ba%93 class=nav-ä¸‰-bela-windows-ç³»ç»ŸåŠŸèƒ½åº“>ä¸‰. Bela Windows ç³»ç»ŸåŠŸèƒ½åº“</a></li><ul><li><a href=#belafinaly class=nav-belafinaly>bela::finaly</a></li><li><a href=#pathcat-%e8%b7%af%e5%be%84%e8%a7%84%e8%8c%83%e5%8c%96%e8%bf%9e%e6%8e%a5%e5%87%bd%e6%95%b0 class=nav-pathcat-è·¯å¾„è§„èŒƒåŒ–è¿æ¥å‡½æ•°>PathCat è·¯å¾„è§„èŒƒåŒ–è¿æ¥å‡½æ•°</a></li><li><a href=#pathexists-%e5%87%bd%e6%95%b0 class=nav-pathexists-å‡½æ•°>PathExists å‡½æ•°</a></li><li><a href=#lookuprealpath-%e5%87%bd%e6%95%b0 class=nav-lookuprealpath-å‡½æ•°>LookupRealPath å‡½æ•°</a></li><li><a href=#lookupappexeclinktarget-%e5%87%bd%e6%95%b0 class=nav-lookupappexeclinktarget-å‡½æ•°>LookupAppExecLinkTarget å‡½æ•°</a></li><li><a href=#executableexistsinpath-%e6%9f%a5%e6%89%be%e5%8f%af%e6%89%a7%e8%a1%8c%e6%96%87%e4%bb%b6 class=nav-executableexistsinpath-æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶>ExecutableExistsInPath æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶</a></li><li><a href=#%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%90%88%e6%88%90%e6%8b%86%e5%88%86%e5%92%8c%e8%a7%a3%e6%9e%90 class=nav-å‘½ä»¤è¡Œåˆæˆæ‹†åˆ†å’Œè§£æ>å‘½ä»¤è¡Œåˆæˆï¼Œæ‹†åˆ†å’Œè§£æ</a></li><li><a href=#mapview class=nav-mapview>MapView</a></li><li><a href=#pesimpledetailsaze-%e8%8e%b7%e5%be%97-pe-%e7%9a%84%e7%ae%80%e5%8d%95%e4%bf%a1%e6%81%af class=nav-pesimpledetailsaze-è·å¾—-pe-çš„ç®€å•ä¿¡æ¯>PESimpleDetailsAze è·å¾— PE çš„ç®€å•ä¿¡æ¯</a></li></ul><li><a href=#%e6%9c%80%e5%90%8e class=nav-æœ€å>æœ€å</a></li></ul></div></div></div></div></div><transition name=fade><div id=drawer-mask v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav id=navBar class="navbar sticky-top navbar-light single-column-nav-container"><div id=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer>
<i class=material-icons>menu
</i></button>
<a id=navTitle class=navbar-brand href=https://forcemz.net/>Charlie's Rethinking
</a><button type=button class=nav-darkmode-toggle id=darkModeToggleButton2>
<i class=material-icons id=darkModeToggleIcon2>dark_mode</i></button></div></nav><div class=single-column-header-container id=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=https://forcemz.net/><div class=single-column-header-title>Charlie's Rethinking</div><div class=single-column-header-subtitle>Themed by Diary.</div></a></div><div id=content><div id=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only><div class=post-title>ä»‹ç» Bela<div class=post-meta><time itemprop=datePublished>2019-05-25 10:00
</time><i class=material-icons>folder</i>
<a href=/categories/cxx>cxx</a>
&nbsp;</div></div></div><div class=post-body-wrapper><div class=post-body v-pre><h1 id=å‰è¨€>å‰è¨€</h1><p>åœ¨å‰é¢ï¼Œæˆ‘æ›¾ç»å†™è¿‡ä¸€ç¯‡æ–‡ç«  <a href=https://forcemz.net/cxx/2019/04/29/StringFormattingTalk/>ã€Šå­—ç¬¦ä¸²æ ¼å¼åŒ–æ¼«è°ˆã€‹</a> æ–‡ç« æœ€åæåˆ°äº† <a href=https://github.com/fcharlie/bela><code>Bela</code></a> é‡Œé¢å®ç°äº†ä¸€ä¸ªç±»å‹å®‰å…¨çš„ <code>bela::StrFormat</code>ï¼Œå®é™…ä¸Š <code>bela</code> è¿˜æœ‰å¾ˆå¤šæœ‰è¶£çš„åŠŸèƒ½ï¼Œæœ¬æ–‡ä¹Ÿå°±æ˜¯è¯´ä¸€è¯´ Bela æœ‰å“ªäº›æœ‰è¶£åŠŸèƒ½å’Œæ•…äº‹ã€‚</p><h1 id=ä¸€-bela-çš„ç¼˜ç”±>ä¸€. Bela çš„ç¼˜ç”±</h1><p>ä¹‹å‰ï¼Œæˆ‘å¼€å‘äº†å‡ ä¸ªå¼€æºè½¯ä»¶ï¼Œå¦‚ Windows ç³»ç»Ÿä»¥æŒ‡å®šæƒé™å¯åŠ¨è¿›ç¨‹çš„ <a href=https://github.com/M2Team/Privexec>Privexec</a>ï¼ŒClang Windows æ“ä½œç³»ç»Ÿä¸Šè‡ªåŠ¨åŒ–æ„å»ºä¾èµ–ç®¡ç†å·¥å…· <a href=https://github.com/fstudio/clangbuilder>Clangbuilder</a>ï¼Œè¿˜æœ‰ PE åˆ†æå·¥å…· <a href=https://github.com/fcharlie/PEAnalyzer>PEAnalyzer</a>ï¼Œæ–‡ä»¶åˆ†æå·¥å…· <a href=https://github.com/fcharlie/Planck>Planck</a> ç­‰ç­‰ã€‚åœ¨ç¼–å†™è¿™äº›å·¥å…·æ—¶è¦é‡å¤ç¼–å†™ä¸€äº›ä»£ç ï¼Œæ¯•ç«Ÿå¤§å®¶éƒ½çŸ¥é“ C++ STL æœ‰æ—¶å€™å¹¶ä¸èƒ½ç§°å¿ƒå¦‚æ„ã€‚åœ¨ <a href=https://github.com/abseil/abseil-cpp>Google Abseil</a> å¼€æºåï¼Œæˆ‘å€Ÿé‰´äº†è¿™ä¸ªé¡¹ç›®çš„ä¸€äº›ä»£ç é‡æ–°é€ äº†ä¸€äº› <code>wchar_t</code> ç‰ˆæœ¬çš„è½®å­ï¼Œåæ¥æŠŠè¿™äº›ä»£ç å•ç‹¬æŠ½ç¦»å‡ºæ¥ï¼Œè¿›ä¸€æ­¥æ”¹è¿›ï¼Œä¹Ÿå°±æˆäº†ç°åœ¨çš„ <code>Bela</code>ã€‚ä¸ç›´æ¥ç”¨ <code>Absl</code> çš„åŸå› å¾ˆç®€å•ï¼Œå®ƒä¸æ”¯æŒ <code>wchar_t</code>ã€‚æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸ä½¿ç”¨ <code>fmtlib</code> çš„åŸå› ä¹Ÿå¾ˆç®€å•ï¼Œä¸å–œæ¬¢å¼‚å¸¸ï¼Œå®ƒçš„ä»£ç åº“ä¹Ÿæ¯”è¾ƒå¤§ã€‚å« <code>bela ['bÉ™lÉ™]</code> çš„åŸå› ä¾ç„¶å¾ˆç®€å•ï¼Œç®€çŸ­æ˜“è¯»æ˜“æ‹¼å†™ã€‚</p><p>Bela çš„å­—ç¬¦ä¸²å‡½æ•°åŸºæœ¬åŸºäº <code>Abseil</code>ï¼Œ<code>Unicode</code> è½¬æ¢åŸºäº LLVM çš„ <code>ConvertUTF.cpp</code>ï¼Œæœ€åˆ <code>ConvertUTF</code> çš„ç‰ˆæƒå±äº <strong>Unicode.org</strong> , <code>charconv</code> åŸºäº <code>Visual C++ STL</code>ï¼Œ<code>EscapeArgv</code> å€Ÿé‰´äº† Golang æºç ï¼Œ<code>endian.hpp</code>ï¼Œ<code>tokenziecmdline.hpp</code> å€Ÿé‰´äº† <code>LLVM Support Library</code> ç­‰ç­‰ã€‚</p><h1 id=äºŒ-bela-å­—ç¬¦ä¸²åŠŸèƒ½åº“>äºŒ. Bela å­—ç¬¦ä¸²åŠŸèƒ½åº“</h1><h2 id=belaerror_code>bela::error_code</h2><p><code>bela::error_code</code> ä½äº <code>&lt;bela/base.hpp></code> ç±»ä¼¼ <code>std::error_code</code>ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯ç®€åŒ– Windows API é”™è¯¯ä¿¡æ¯çš„æ ¼å¼åŒ–ï¼Œå½“äººä»¬ä½¿ç”¨ <code>make_system_error_code</code> å°±å¯ä»¥å°† Windows é”™è¯¯ä¿¡æ¯ä¿å­˜åˆ° <code>bela::error_code</code> å¯¹è±¡ï¼Œåˆ©ç”¨ C++ RAII æœºåˆ¶ï¼Œå®Œå…¨å¯ä»¥ä¸ç”¨æ‹…å¿ƒå†…å­˜é‡Šæ”¾ï¼ŒåŒæ ·ä½ è¿˜å¯ä»¥ä½¿ç”¨ <code>bela::make_error_code</code> æ„é€ è‡ªå·±çš„é”™è¯¯ä¿¡æ¯ï¼Œ<code>bela::make_error_code</code> ä¾èµ– <code>bela::strings_internal::CatPieces</code>ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥åƒä½¿ç”¨ <code>bela::StringCat</code> ä½¿ç”¨ <code>bela::make_error_code</code></p><h2 id=stringcat>StringCat</h2><p><code>StringCat</code> å­¦ä¹ äº† <code>absl::StrCat</code>ï¼Œå”¯ä¸€çš„ä¸åŒåœ¨äºä½¿ç”¨ <code>wchar_t</code> ä½œä¸ºå­—ç¬¦åŸºæœ¬ç±»å‹ï¼Œåœ¨ Windows ç³»ç»Ÿä¸­ï¼Œ<code>StrCat</code> å®é™…ä¸Šè¢« <code>shlwapi</code> ä½œä¸ºå®å®šä¹‰ä½¿ç”¨äº†ï¼Œä¸ºäº†é¿å…åœ¨ä½¿ç”¨ Windows API æ—¶é€ æˆå›°æƒ‘ï¼Œæˆ‘å°†å…¶å‘½åä¸º <code>StringCat</code>ã€‚è¿™ç§å‡½æ•°çš„å¥½å¤„æ˜¯è¿æ¥å­—ç¬¦ä¸²æ—¶åªéœ€è¦ä¸€æ¬¡å†…å­˜åˆ†é…ï¼Œå¯ä»¥å°†åŸºæœ¬ç±»å‹è½¬å˜ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œç„¶åè¿æ¥åˆ°ä¸€èµ·ï¼Œååˆ†æœ‰ç”¨ï¼Œå¹¶ä¸”ï¼Œ<code>bela::StringCat</code> æ¯” <code>absl::StrCat</code> æœ‰è¶£çš„ä¸€ç‚¹æ˜¯æ”¯æŒ <code>char32_t</code> Unicode ç ç‚¹ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>bela::StringCat</code> è¿æ¥ Unicode ç ç‚¹æ¥æ‹¼æ¥ Emoji æˆ–è€…å…¶ä»–å­—ç¬¦ï¼Œç„¶åè¾“å‡ºåˆ° <code>Windows Terminal</code> æˆ–è€…æ˜¾ç¤ºåˆ°æ–‡æœ¬æˆ–è€…ä½¿ç”¨ Dwrite ç»˜åˆ¶åˆ°å›¾å½¢ç•Œé¢ä¸Šã€‚</p><p><code>StringCat</code> å®šä¹‰åœ¨ <code>&lt;bela/strcat.hpp></code> æ–‡ä»¶ä¸­ã€‚</p><h2 id=ascii>Ascii</h2><p>bela å­¦ä¹ äº† <code>absl/strings/ascii.h</code> ï¼Œå¹¶å°†å…¶ç§»æ¤åˆ° <code>wchar_t</code>ã€‚åœ¨ç§»æ¤çš„æ—¶å€™è¦è€ƒè™‘åœ¨ Windows ç³»ç»Ÿä¸Š <code>wchar_t</code> çš„èŒƒå›´æ˜¯ <code>0~65535</code>ï¼Œå› æ­¤ä¸€äº›å‡½æ•°éœ€è¦åˆ¤æ–­å¤§äº <code>0xFF</code> æ—¶çš„ç­–ç•¥ã€‚åœ¨ <code>&lt;bela/ascii.hpp></code> æ–‡ä»¶ä¸­ <code>AsciiStrToUpper</code> ï¼Œ<code>AsciiStrToLower</code>ï¼Œ <code>StripLeadingAsciiWhitespace</code>ï¼Œ<code>StripTrailingAsciiWhitespace</code>ï¼Œ <code>StripAsciiWhitespace</code> è¿™äº›å‡½æ•°ååˆ†æœ‰å¸®åŠ©ã€‚</p><h2 id=å…¶ä»–å­—ç¬¦ä¸²å‡½æ•°>å…¶ä»–å­—ç¬¦ä¸²å‡½æ•°</h2><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th><th>æ–‡ä»¶</th></tr></thead><tbody><tr><td>StrSplit</td><td>å­—ç¬¦ä¸²åˆ‡å‰²ï¼ŒDelimiter æ”¯æŒæŒ‰å­—ç¬¦ï¼ŒæŒ‰å­—ç¬¦ä¸²æˆ–è€…æŒ‰é•¿åº¦ï¼Œæ”¯æŒè·³è¿‡ç©ºæˆ–è€…ç©ºç™½ï¼Œæ¯” Golang çš„ strings.Split è¦å¥½ç”¨ä¸€äº›</td><td><code>&lt;bela/str_split.hpp></code></td></tr><tr><td>StrReplaceAll</td><td>æ›¿æ¢å­—ç¬¦ä¸²</td><td><code>&lt;bela/str_replace.hpp></code></td></tr><tr><td>ConsumePrefixï¼ŒConsumeSuffixï¼ŒStripPrefixï¼ŒStripSuffix</td><td>åˆ é™¤ç‰¹å®šå‰ç¼€æˆ–è€…åç¼€</td><td><code>&lt;bela/strip.hpp></code></td></tr><tr><td>StartsWithï¼ŒEndsWithï¼ŒEqualsIgnoreCaseï¼ŒStartsWithIgnoreCaseï¼ŒEndsWithIgnoreCase</td><td>ç‰¹å®šçš„æ¯”è¾ƒå‡½æ•°ï¼Œå‰ä¸¤è€… C++20 è¢«å¼•å…¥ï¼ˆstd::string::starts_withï¼Œstd::string::ends_withï¼‰ï¼ŒVisual 2019 16.1 C++ /std:c++latest å¼€å¯</td><td><code>&lt;bela/match.hpp></code></td></tr><tr><td>Substituteï¼ŒSubstituteAndAppend</td><td>åœ¨å‰æ–‡ <a href=https://forcemz.net/cxx/2019/04/29/StringFormattingTalk/>ã€Šå­—ç¬¦ä¸²æ ¼å¼åŒ–æ¼«è°ˆã€‹</a> æœ‰æåŠï¼Œå­—ç¬¦ä¸²å¡«å……ã€‚</td><td><code>&lt;bela/subsitute.hpp></code></td></tr><tr><td>SimpleAtobï¼ŒSimpleAtoi</td><td>å­—ç¬¦ä¸²è½¬æ•´å‹æˆ–è€… Booleanï¼Œè¦è½¬æ¢æµ®ç‚¹ç±»å‹ï¼Œè¯·ä½¿ç”¨ <code>&lt;bela/charconv.hpp></code></td><td><code>&lt;bela/numbers.hpp></code></td></tr></tbody></table><h2 id=ç¼–ç è½¬æ¢>ç¼–ç è½¬æ¢</h2><p>åœ¨ Bela ä¸­ï¼Œæˆ‘åŸºäº LLVM çš„ ConvertUTF å®ç°äº† UTF-16/UTF-8 UTF-32 çš„ä¸€äº›å‡½æ•°ï¼Œå£°æ˜æ–‡ä»¶å‡åœ¨ <code>&lt;bela/codecvt.hpp></code></p><table><thead><tr><th>å‡½æ•°</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>char32tochar16</td><td>Unicode ç ç‚¹è½¬ UTF-16ï¼Œç¼“å†²åŒºé•¿åº¦åº”å½“è‡³å°‘ä¸º 2</td></tr><tr><td>char32tochar8</td><td>Unicode ç ç‚¹è½¬ UTF-8ï¼Œç¼“å†²åŒºé•¿åº¦è‡³å°‘ä¸º 4</td></tr><tr><td>c16tomb</td><td>UTF16 ç¼–ç è½¬ UTF-8ï¼Œä½çº§ API</td></tr><tr><td>mbrtowc</td><td>UTF-8 ç¼–ç è½¬ UTF-16 (wchar_t)ï¼Œä½çº§ API</td></tr><tr><td>mbrtoc16</td><td>UTF-8 ç¼–ç è½¬ UTF-16 (char16_t)ï¼Œä½çº§ API</td></tr><tr><td>ToNarrow</td><td>UTF-16 è½¬ UTF-8</td></tr><tr><td>ToWide</td><td>UTF-8 è½¬ UTF-16</td></tr></tbody></table><p>æ¶‰åŠåˆ°ç¼–ç è½¬æ¢æ—¶ï¼Œåº”å½“ä½¿ç”¨é«˜çº§ API <code>bela::ToNarrow</code> å’Œ <code>bela::ToWide</code></p><h2 id=strformat>StrFormat</h2><p>Bela ç›®å‰æä¾›äº†ä¸€ä¸ªç±»å‹å®‰å…¨ç®€å•çš„ <code>StrFormat</code>, <code>StrFormat</code> åŸºäº C++ å˜å‚æ¨¡æ¿ï¼Œä½¿ç”¨ <code>union</code> è®°å½•å‚æ•°ç±»å‹ï¼Œåœ¨è§£ææ—¶æŒ‰ç…§è¾“å…¥çš„å ä½ç¬¦å°†å…¶ä»–ç±»å‹è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¿æ¥åœ¨ä¸€èµ·ï¼Œä»è€Œå®ç°æ ¼å¼åŒ–åŠŸèƒ½ã€‚<code>bela::StrFormat</code> å€Ÿé‰´äº† <code>Chromium SafeNPrintf</code> å‡½æ•°ï¼Œä½†æ”¯æŒçš„ç±»å‹è¦æ¯” <code>SafeNPrintf</code> å¤šå¾ˆå¤šã€‚</p><p>æ”¯æŒçš„ç±»å‹å’Œå“åº”çš„å ä½ç¬¦å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p><table><thead><tr><th>ç±»å‹</th><th>å ä½ç¬¦</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>char</td><td><code>%c</code></td><td>ASCII å­—ç¬¦ï¼Œä¼šè¢«æå‡ä¸º wchar_t</td></tr><tr><td>unsigned char</td><td><code>%c</code></td><td>ASCII å­—ç¬¦ï¼Œä¼šè¢«æå‡ä¸º wchar_t</td></tr><tr><td>wchar_t</td><td><code>%c</code></td><td>UTF-16 å­—ç¬¦</td></tr><tr><td>char16_t</td><td><code>%c</code></td><td>UTF-16 å­—ç¬¦</td></tr><tr><td>char32_t</td><td><code>%c</code></td><td>UTF-32 Unicode å­—ç¬¦ï¼Œä¼šè¢«è½¬ä¸º UTF-16 å­—ç¬¦ï¼Œè¿™æ„å‘³ç€å¯ä»¥ä½¿ç”¨ Unicode ç ç‚¹ä»¥ %c çš„æ–¹å¼è¾“å‡º emojiã€‚</td></tr><tr><td>short</td><td><code>%d</code></td><td>16ä½æ•´å‹</td></tr><tr><td>unsigned short</td><td><code>%d</code></td><td>16ä½æ— ç¬¦å·æ•´å‹</td></tr><tr><td>int</td><td><code>%d</code></td><td>32ä½æ•´å‹</td></tr><tr><td>unsigned int</td><td><code>%d</code></td><td>32ä½æ— ç¬¦å·æ•´å‹</td></tr><tr><td>long</td><td><code>%d</code></td><td>32ä½æ•´å‹</td></tr><tr><td>unsigned long</td><td><code>%d</code></td><td>32ä½æ— ç¬¦å·æ•´å‹</td></tr><tr><td>long long</td><td><code>%d</code></td><td>64ä½æ•´å‹</td></tr><tr><td>unsigned long long</td><td><code>%d</code></td><td>64ä½æ— ç¬¦å·æ•´å‹</td></tr><tr><td>float</td><td><code>%f</code></td><td>ä¼šè¢«æå‡ä¸º <code>double</code></td></tr><tr><td>double</td><td><code>%f</code></td><td>64ä½æµ®ç‚¹</td></tr><tr><td>const char *</td><td><code>%s</code></td><td>UTF-8 å­—ç¬¦ä¸²ï¼Œä¼šè¢«è½¬æ¢æˆ UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>char *</td><td><code>%s</code></td><td>UTF-8 å­—ç¬¦ä¸²ï¼Œä¼šè¢«è½¬æ¢æˆ UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>std::string</td><td><code>%s</code></td><td>UTF-8 å­—ç¬¦ä¸²ï¼Œä¼šè¢«è½¬æ¢æˆ UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>std::string_view</td><td><code>%s</code></td><td>UTF-8 å­—ç¬¦ä¸²ï¼Œä¼šè¢«è½¬æ¢æˆ UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>const wchar_t *</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>wchar_t *</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>std::wstring</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>std::wstring_view</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>const char16_t *</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>char16_t *</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>std::u16string</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>std::u16string_view</td><td><code>%s</code></td><td>UTF-16 å­—ç¬¦ä¸²</td></tr><tr><td>void *</td><td><code>%p</code></td><td>æŒ‡é’ˆç±»å‹ï¼Œä¼šæ ¼å¼åŒ–æˆ <code>0xffff00000</code> è¿™æ ·çš„å­—ç¬¦ä¸²</td></tr></tbody></table><p>å¦‚æœä¸æ ¼å¼åŒ– UTF-8 å­—ç¬¦ä¸²ï¼Œä¸”æ‹¥æœ‰å›ºå®šå¤§å°å†…å­˜ç¼“å†²åŒºï¼Œå¯ä»¥ä½¿ç”¨ <code>StrFormat</code> çš„å¦‚ä¸‹é‡è½½ï¼Œæ­¤é‡è½½å¯ä»¥è½»æ¾çš„ç§»æ¤åˆ° POSIX ç³»ç»Ÿå¹¶æ”¯æŒå¼‚æ­¥ä¿¡å·å®‰å…¨:</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff636f>template</span> <span style=color:#ff636f>&lt;</span><span style=color:#ff636f>typename</span>... <span style=color:#58a1dd>Args</span><span style=color:#ff636f>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#58a1dd>ssize_t</span> <span style=color:#58a1dd>StrFormat</span>(<span style=color:#ff636f>wchar_t</span> <span style=color:#ff636f>*</span><span style=color:#58a1dd>buf</span>, <span style=color:#58a1dd>size_t</span> <span style=color:#58a1dd>N</span>, <span style=color:#ff636f>const</span> <span style=color:#ff636f>wchar_t</span> <span style=color:#ff636f>*</span><span style=color:#58a1dd>fmt</span>, <span style=color:#58a1dd>Args</span>... <span style=color:#58a1dd>args</span>)
</span></span></code></pre></div><p>æˆ‘ä»¬åŸºäº <code>StrFormat</code> å®ç°äº†ç±»å‹å®‰å…¨çš„ <code>bela::FPrintF</code>ï¼Œè¿™ä¸ªå‡½æ•°èƒ½å¤Ÿæ ¹æ®è¾“å‡ºè®¾å¤‡çš„ç±»å‹è‡ªåŠ¨è½¬æ¢ç¼–ç ï¼Œå¦‚æœæ˜¯ <code>Conhost</code> åˆ™ä¼šè¾“å‡º <code>UTF-16</code>ï¼Œå¦åˆ™åˆ™è¾“å‡º <code>UTF-8</code>ã€‚å¦‚æœ <code>Conhost</code> ä¸æ”¯æŒ <code>VT</code> æ¨¡å¼ï¼Œbela åˆ™ä¼šå°†è¾“å‡ºå­—ç¬¦ä¸²ä¸­çš„ ASCII é¢œè‰²è½¬ä¹‰å»é™¤ï¼Œä½† bela å¹¶æ²¡æœ‰åš Windows æ—§ç‰ˆæœ¬çš„é€‚é…ï¼Œæˆ‘ä»¬åº”è¯¥å§‹ç»ˆä½¿ç”¨ Windows æœ€æ–°å‘è¡Œç‰ˆã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#828b96;font-style:italic>/// C++17
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span><span style=color:#828b96;font-style:italic>#include</span> <span style=color:#828b96;font-style:italic>&lt;bela/strcat.hpp&gt;</span><span style=color:#828b96;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic>#include</span> <span style=color:#828b96;font-style:italic>&lt;bela/stdwriter.hpp&gt;</span><span style=color:#828b96;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#ff636f>constexpr</span> <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>cv</span><span style=color:#ff636f>=</span><span style=color:#58a1dd>__cplusplus</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff636f>int</span> <span style=color:#58a1dd>wmain</span>(<span style=color:#ff636f>int</span> <span style=color:#58a1dd>argc</span>, <span style=color:#ff636f>wchar_t</span> <span style=color:#ff636f>**</span><span style=color:#58a1dd>argv</span>) {
</span></span><span style=display:flex><span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>ux</span> <span style=color:#ff636f>=</span> <span style=color:#a6be9d>&#34;</span><span style=color:#a6be9d>\xf0\x9f\x98\x81</span><span style=color:#a6be9d> UTF-8 text </span><span style=color:#a6be9d>\xE3\x8D\xA4</span><span style=color:#a6be9d>&#34;</span>; <span style=color:#828b96;font-style:italic>// force encode UTF-8
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>  <span style=color:#ff636f>wchar_t</span> <span style=color:#58a1dd>wx</span>[] <span style=color:#ff636f>=</span> <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;Engine </span><span style=color:#a6be9d>\xD83D\xDEE0</span><span style=color:#a6be9d> ä¸­å›½&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(
</span></span><span style=display:flex><span>      <span style=color:#58a1dd>stderr</span>,
</span></span><span style=display:flex><span>      <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;Argc: %d Arg0: </span><span style=color:#a6be9d>\x1b</span><span style=color:#a6be9d>[32m%s</span><span style=color:#a6be9d>\x1b</span><span style=color:#a6be9d>[0m W: %s UTF-8: %s C++ version: %d</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>,  <span style=color:#58a1dd>argc</span>, <span style=color:#58a1dd>argv</span>[<span style=color:#a6be9d>0</span>], <span style=color:#58a1dd>wx</span>, <span style=color:#58a1dd>ux</span>, <span style=color:#58a1dd>cv</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff636f>char32_t</span> <span style=color:#58a1dd>em</span> <span style=color:#ff636f>=</span> <span style=color:#a6be9d>0x1F603</span>;<span style=color:#828b96;font-style:italic>//ğŸ˜ƒ
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>s</span> <span style=color:#ff636f>=</span> <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>StringCat</span>(<span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;Look emoji --&gt;&#34;</span>, <span style=color:#58a1dd>em</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34; U: &#34;</span>,
</span></span><span style=display:flex><span>                           <span style=color:#ff636f>static_cast</span><span style=color:#ff636f>&lt;</span><span style=color:#ff636f>uint32_t</span><span style=color:#ff636f>&gt;</span>(<span style=color:#58a1dd>em</span>));
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;emoji test %c %s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>em</span>, <span style=color:#58a1dd>s</span>);
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;hStderr Mode: %s hStdin Mode: %s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>,
</span></span><span style=display:flex><span>                <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FileTypeName</span>(<span style=color:#58a1dd>stderr</span>), <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FileTypeName</span>(<span style=color:#58a1dd>stdin</span>));
</span></span><span style=display:flex><span>  <span style=color:#ff636f>return</span> <span style=color:#a6be9d>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>è¯·æ³¨æ„ï¼Œå¦‚æœä¸Šè¿° emoji è¦æ­£å¸¸æ˜¾ç¤ºï¼Œåº”å½“ä½¿ç”¨ <code>Windows Terminal</code> æˆ–è€…æ˜¯ <code>Mintty</code>ã€‚</p><h1 id=ä¸‰-bela-windows-ç³»ç»ŸåŠŸèƒ½åº“>ä¸‰. Bela Windows ç³»ç»ŸåŠŸèƒ½åº“</h1><h2 id=belafinaly>bela::finaly</h2><p>åœ¨ä½¿ç”¨ Golang æ—¶ï¼Œ<code>defer</code> å¯ä»¥åœ¨å‡½æ•°é€€å‡ºæ—¶æ‰§è¡Œä¸€äº›ä»£ç ï¼Œåœ¨ C++ ä¸­ <a href=https://github.com/microsoft/gsl>Microsoft/GSL</a> é‡Œé¢æœ‰ä¸€ä¸ª <code>finaly</code> å®ç°ï¼Œå¼‚æ›²åŒå·¥ã€‚åœ¨è¿™é‡Œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>finaly</code> é¿å…èµ„æºæ³„éœ²ã€‚</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#828b96;font-style:italic>#include</span> <span style=color:#828b96;font-style:italic>&lt;bela/finaly.hpp&gt;</span><span style=color:#828b96;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic>#include</span> <span style=color:#828b96;font-style:italic>&lt;cstdio&gt;</span><span style=color:#828b96;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#ff636f>int</span> <span style=color:#58a1dd>wmain</span>(){
</span></span><span style=display:flex><span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>file</span><span style=color:#ff636f>=</span><span style=color:#58a1dd>fopen</span>(<span style=color:#a6be9d>&#34;somelog&#34;</span>,<span style=color:#a6be9d>&#34;w+&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>closer</span><span style=color:#ff636f>=</span><span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>finaly</span>([<span style=color:#ff636f>&amp;</span>]{
</span></span><span style=display:flex><span>    <span style=color:#ff636f>if</span>(<span style=color:#58a1dd>file</span><span style=color:#ff636f>!=</span><span style=color:#ff636f>nullptr</span>){
</span></span><span style=display:flex><span>      <span style=color:#58a1dd>fclose</span>(<span style=color:#58a1dd>file</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#828b96;font-style:italic>/// do some codes
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>  <span style=color:#ff636f>return</span> <span style=color:#a6be9d>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=pathcat-è·¯å¾„è§„èŒƒåŒ–è¿æ¥å‡½æ•°>PathCat è·¯å¾„è§„èŒƒåŒ–è¿æ¥å‡½æ•°</h2><p><code>PathCat</code> å‡½æ•°å€Ÿé‰´äº† <code>StringCat</code> å‡½æ•°ï¼Œå°†è·¯å¾„ç»„ä»¶è¿æ¥èµ·æ¥ã€‚ä¾‹å­å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>p</span> <span style=color:#ff636f>=</span> <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>PathCat</span>(<span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;</span><span style=color:#a6be9d>\\\\</span><span style=color:#a6be9d>?</span><span style=color:#a6be9d>\\</span><span style=color:#a6be9d>C:</span><span style=color:#a6be9d>\\</span><span style=color:#a6be9d>Windows/System32&#34;</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;drivers/etc&#34;</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;hosts&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;PathCat: %s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>p</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>p2</span> <span style=color:#ff636f>=</span> <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>PathCat</span>(<span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;C:</span><span style=color:#a6be9d>\\</span><span style=color:#a6be9d>Windows/System32&#34;</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;drivers/../..&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;PathCat: %s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>p2</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>p3</span> <span style=color:#ff636f>=</span> <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>PathCat</span>(<span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;Windows/System32&#34;</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;drivers/./././.</span><span style=color:#a6be9d>\\</span><span style=color:#a6be9d>.</span><span style=color:#a6be9d>\\</span><span style=color:#a6be9d>etc&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;PathCat: %s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>p3</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff636f>auto</span> <span style=color:#58a1dd>p4</span> <span style=color:#ff636f>=</span> <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>PathCat</span>(<span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;.&#34;</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;test/pathcat/./pathcat_test.exe&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;PathCat: %s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>p4</span>);
</span></span></code></pre></div><p><code>PathCat</code> çš„æ€è·¯æ˜¯å…ˆå°† <code>UNC</code> å‰ç¼€å’Œç›˜ç¬¦è®°å½•å¹¶å»é™¤ï¼Œç„¶åå°†æ‰€æœ‰çš„å‚æ•°ä½¿ç”¨ <code>PathSpilt</code> å‡½æ•°ä»¥ Windows è·¯å¾„åˆ†éš”ç¬¦å’Œ Linux è·¯å¾„åˆ†éš”ç¬¦æ‹†åˆ†æˆ <code>std::wstring_view</code> æ•°ç»„ï¼Œå½“å½“å‰è·¯å¾„å…ƒç´ ä¸º <code>..</code> æ—¶ï¼Œå¼¹å‡ºå­—ç¬¦ä¸²æ•°ç»„ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœä¸º <code>.</code> åˆ™ä¿æŒä¸å˜ï¼Œå¦åˆ™å°†è·¯å¾„å…ƒç´ å‹å…¥æ•°ç»„ã€‚æ‹†åˆ†å®Œæ¯•åï¼Œéå†æ•°ç»„è®¡ç®—æ‰€éœ€ç¼“å†²åŒºå¤§å°ï¼Œè°ƒæ•´ <code>std::wstring</code> å®¹é‡ï¼Œç„¶åè¿›è¡Œè·¯å¾„é‡ç»„ã€‚</p><p>å½“ç¬¬ä¸€ä¸ªå‚æ•°å€¼ä¸º <code>.</code> æ—¶ï¼Œ<code>PathCat</code> å°†è§£æç¬¬ä¸€ä¸ªè·¯å¾„ä¸ºå½“å‰ç›®å½•ï¼Œç„¶åå‚ä¸è§£æã€‚å¦‚æœ <code>PathCat</code> ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œ<code>PathCat</code> å¹¶ä¸ä¼šä¸»åŠ¨å°†è·¯å¾„è½¬å˜ä¸ºç»å¯¹è·¯å¾„ï¼Œå› æ­¤ï¼Œä½ åº”å½“ä¸»åŠ¨çš„å°†ç¬¬ä¸€ä¸ªå‚æ•°è®¾ç½®ä¸º <code>.</code> ä»¥æœŸè§£æä¸ºç»å¯¹è·¯å¾„ã€‚</p><p><code>PathCat</code> å¹¶ä¸ä¼šåˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå› æ­¤éœ€è¦æ³¨æ„ã€‚</p><p>è·¯å¾„è§£æé”™è¯¯æ˜¯å¾ˆå¤šè½¯ä»¶çš„æ¼æ´æ ¹æºï¼Œåˆç†çš„è§„èŒƒåŒ–è·¯å¾„éå¸¸æœ‰å¿…è¦ï¼Œè€Œ <code>PathCat</code> åœ¨è§„èŒƒåŒ–è·¯å¾„æ—¶ï¼Œä½¿ç”¨ C++17/C++20(Span) çš„ç‰¹æ€§ï¼Œå‡å°‘å†…å­˜åˆ†é…ï¼Œç®€åŒ–äº†è§„èŒƒåŒ–æµç¨‹ã€‚</p><p><code>PathCat</code> ä½¿ç”¨äº† <code>bela::Span</code> ï¼ˆ<code>&lt;bela/span.hpp></code>ï¼‰ï¼Œ<code>Span</code> è¢« C++20 é‡‡çº³ï¼Œ<code>bela::Span</code> åŸºäº <code>absl::Span</code>ã€‚</p><h2 id=pathexists-å‡½æ•°>PathExists å‡½æ•°</h2><p><code>PathExists</code> å‡½æ•°åˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå½“ä½¿ç”¨é»˜è®¤å‚æ•°æ—¶ï¼Œåªä¼šåˆ¤æ–­è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœéœ€è¦åˆ¤æ–­è·¯å¾„çš„å…¶ä»–å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼š</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c++ data-lang=c++><span style=display:flex><span><span style=color:#ff636f>if</span>(<span style=color:#ff636f>!</span><span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>PathExists</span>(<span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;C:</span><span style=color:#a6be9d>\\</span><span style=color:#a6be9d>Windows&#34;</span>,<span style=color:#58a1dd>FileAttribute</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>Dir</span>)){
</span></span><span style=display:flex><span>    <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>,<span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;C:</span><span style=color:#a6be9d>\\</span><span style=color:#a6be9d>Windows not dir or not exists</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=lookuprealpath-å‡½æ•°>LookupRealPath å‡½æ•°</h2><p><code>LookupRealPath</code> ç”¨äºè§£æ Windows ç¬¦å·é“¾æ¥å’Œå·æŒ‚è½½ç‚¹ã€‚</p><h2 id=lookupappexeclinktarget-å‡½æ•°>LookupAppExecLinkTarget å‡½æ•°</h2><p><code>LookupAppExecLinkTarget</code> ç”¨äºè§£æ Windows AppExecLink ç›®æ ‡ï¼Œåœ¨ Windows 10 ç³»ç»Ÿä¸­ï¼Œ<code>AppExecLink</code> æ˜¯ä¸€ç§ Store App çš„å‘½ä»¤è¡Œå…¥å£ï¼Œé€šå¸¸ä½äº <code>C:\Users\$Username\AppData\Local\Microsoft\WindowsApps</code>ï¼Œè¿™ç§æ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯ä¸€ç§é‡è§£æç‚¹ï¼Œå› æ­¤è§£ææ—¶éœ€è¦æŒ‰ç…§é‡è§£æç‚¹çš„æ–¹æ³•å»è§£æã€‚</p><h2 id=executableexistsinpath-æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶>ExecutableExistsInPath æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶</h2><p>åœ¨ Windows cmd ä¸­ï¼Œæœ‰ä¸€ä¸ªå‘½ä»¤å«åš <code>where</code>ï¼Œç”¨äºæŸ¥æ‰¾å‘½ä»¤æˆ–è€…å¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Œè€Œ <code>ExecutableExistsInPath</code> åˆ™æä¾›äº†ç›¸åŒçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§è¾“å…¥çš„å‘½ä»¤æˆ–è€…è·¯å¾„æŸ¥æ‰¾å¯¹åº”çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª <code>where</code> å®ç°ï¼š</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#828b96;font-style:italic>////
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span><span style=color:#828b96;font-style:italic>#include</span> <span style=color:#828b96;font-style:italic>&lt;bela/strcat.hpp&gt;</span><span style=color:#828b96;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic>#include</span> <span style=color:#828b96;font-style:italic>&lt;bela/stdwriter.hpp&gt;</span><span style=color:#828b96;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic>#include</span> <span style=color:#828b96;font-style:italic>&lt;bela/path.hpp&gt;</span><span style=color:#828b96;font-style:italic>
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>
</span></span><span style=display:flex><span><span style=color:#ff636f>int</span> <span style=color:#58a1dd>wmain</span>(<span style=color:#ff636f>int</span> <span style=color:#58a1dd>argc</span>, <span style=color:#ff636f>wchar_t</span> <span style=color:#ff636f>**</span><span style=color:#58a1dd>argv</span>) {
</span></span><span style=display:flex><span>  <span style=color:#ff636f>if</span> (<span style=color:#58a1dd>argc</span> <span style=color:#ff636f>&lt;</span> <span style=color:#a6be9d>2</span>) {
</span></span><span style=display:flex><span>    <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;usage: %s command</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>argv</span>[<span style=color:#a6be9d>0</span>]);
</span></span><span style=display:flex><span>    <span style=color:#ff636f>return</span> <span style=color:#a6be9d>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>wstring</span> <span style=color:#58a1dd>exe</span>;
</span></span><span style=display:flex><span>  <span style=color:#ff636f>if</span> (<span style=color:#ff636f>!</span><span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>ExecutableExistsInPath</span>(<span style=color:#58a1dd>argv</span>[<span style=color:#a6be9d>1</span>], <span style=color:#58a1dd>exe</span>)) {
</span></span><span style=display:flex><span>    <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stderr</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;command not found: %s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>argv</span>[<span style=color:#a6be9d>1</span>]);
</span></span><span style=display:flex><span>    <span style=color:#ff636f>return</span> <span style=color:#a6be9d>1</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>FPrintF</span>(<span style=color:#58a1dd>stdout</span>, <span style=color:#a6be9d>L</span><span style=color:#a6be9d>&#34;%s</span><span style=color:#a6be9d>\n</span><span style=color:#a6be9d>&#34;</span>, <span style=color:#58a1dd>exe</span>);
</span></span><span style=display:flex><span>  <span style=color:#ff636f>return</span> <span style=color:#a6be9d>0</span>;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=å‘½ä»¤è¡Œåˆæˆæ‹†åˆ†å’Œè§£æ>å‘½ä»¤è¡Œåˆæˆï¼Œæ‹†åˆ†å’Œè§£æ</h2><p>åœ¨ bela ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†å‘½ä»¤è¡Œåˆæˆï¼Œæ‹†åˆ†å’Œè§£æç±»ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><table><thead><tr><th>ç±»å</th><th>åŠŸèƒ½</th><th>æ–‡ä»¶</th></tr></thead><tbody><tr><td>ParseArgv</td><td>è§£æå‘½ä»¤è¡Œå‚æ•°ï¼Œç±»ä¼¼ GNU <code>getopt_long</code>ï¼Œæ”¯æŒ <code>wchar_t</code>ï¼Œä¸ä½¿ç”¨å…¨å±€å˜é‡ï¼Œé”™è¯¯ä¿¡æ¯è¯¦ç»†</td><td><code>&lt;bela/parseargv.hpp></code></td></tr><tr><td>Tokenizer</td><td>å°†å‘½ä»¤è¡Œå­—ç¬¦ä¸² Windows commandline å½¢å¼è½¬å˜ä¸º <code>wchar_t **Argv</code> å½¢å¼</td><td><code>&lt;bela/tokenizecmdline.hpp></code></td></tr><tr><td>EscapeArgv</td><td>å°† <code>Argv</code> å½¢å¼å‘½ä»¤è¡Œå‚æ•°è½¬ä¸º <code>commdline</code> å½¢å¼ï¼Œä¸»è¦ç”¨äº <code>CreateProcess</code></td><td><code>&lt;bela/escapeargv.hpp></code></td></tr></tbody></table><h2 id=mapview>MapView</h2><p>åœ¨ bela ä¸­ï¼Œæˆ‘è¿˜æä¾› <code>MapView</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªåªè¯»çš„æ–‡ä»¶å†…å­˜æ˜ å°„ï¼Œé€šå¸¸ç”¨äºæ–‡ä»¶è§£æã€‚æ–‡ä»¶ <code>&lt;bela/mapview.hpp></code> è¿˜æœ‰ä¸ <code>std::string_view</code> ç±»ä¼¼çš„ <code>MemView </code>ç±»ã€‚</p><h2 id=pesimpledetailsaze-è·å¾—-pe-çš„ç®€å•ä¿¡æ¯>PESimpleDetailsAze è·å¾— PE çš„ç®€å•ä¿¡æ¯</h2><p>åœ¨ Bela ä¸­ï¼Œæˆ‘æ·»åŠ äº†ä¸€ä¸ª <code>PESimpleDetailsAze</code> ç”¨äºè·å¾— PE å¯æ‰§è¡Œæ–‡ä»¶çš„ä¸€äº›ä¿¡æ¯ï¼Œå…¶ç»“æ„ä½“å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#ff636f>struct</span> <span style=color:#58a1dd>PESimpleDetails</span> {
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>wstring</span> <span style=color:#58a1dd>clrmsg</span>;
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>vector</span><span style=color:#ff636f>&lt;</span><span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>wstring</span><span style=color:#ff636f>&gt;</span> <span style=color:#58a1dd>depends</span>; <span style=color:#828b96;font-style:italic>// depends dll
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>  <span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>vector</span><span style=color:#ff636f>&lt;</span><span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>wstring</span><span style=color:#ff636f>&gt;</span> <span style=color:#58a1dd>delays</span>;  <span style=color:#828b96;font-style:italic>// delay load library
</span></span></span><span style=display:flex><span><span style=color:#828b96;font-style:italic></span>  <span style=color:#58a1dd>PEVersionPair</span> <span style=color:#58a1dd>osver</span>;
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>PEVersionPair</span> <span style=color:#58a1dd>linkver</span>;
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>PEVersionPair</span> <span style=color:#58a1dd>imagever</span>;
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>Machine</span> <span style=color:#58a1dd>machine</span>;
</span></span><span style=display:flex><span>  <span style=color:#58a1dd>Subsytem</span> <span style=color:#58a1dd>subsystem</span>;
</span></span><span style=display:flex><span>  <span style=color:#ff636f>uint16_t</span> <span style=color:#58a1dd>characteristics</span>{<span style=color:#a6be9d>0</span>};
</span></span><span style=display:flex><span>  <span style=color:#ff636f>uint16_t</span> <span style=color:#58a1dd>dllcharacteristics</span>{<span style=color:#a6be9d>0</span>};
</span></span><span style=display:flex><span>  <span style=color:#ff636f>bool</span> <span style=color:#58a1dd>IsConsole</span>() <span style=color:#ff636f>const</span> { <span style=color:#ff636f>return</span> <span style=color:#58a1dd>subsystem</span> <span style=color:#ff636f>==</span> <span style=color:#58a1dd>Subsytem</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>CUI</span>; }
</span></span><span style=display:flex><span>  <span style=color:#ff636f>bool</span> <span style=color:#58a1dd>IsDLL</span>() <span style=color:#ff636f>const</span> {
</span></span><span style=display:flex><span>    <span style=color:#ff636f>constexpr</span> <span style=color:#ff636f>uint16_t</span> <span style=color:#58a1dd>imagefiledll</span> <span style=color:#ff636f>=</span> <span style=color:#a6be9d>0x2000</span>;
</span></span><span style=display:flex><span>    <span style=color:#ff636f>return</span> (<span style=color:#58a1dd>characteristics</span> <span style=color:#ff636f>&amp;</span> <span style=color:#58a1dd>imagefiledll</span>) <span style=color:#ff636f>!=</span> <span style=color:#a6be9d>0</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>};
</span></span></code></pre></div><p>å‡½æ•°çš„å£°æ˜å¦‚ä¸‹ï¼š</p><div class=highlight><pre tabindex=0 style=color:#1d2432;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>optional</span><span style=color:#ff636f>&lt;</span><span style=color:#58a1dd>PESimpleDetails</span><span style=color:#ff636f>&gt;</span> <span style=color:#58a1dd>PESimpleDetailsAze</span>(<span style=color:#58a1dd>std</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>wstring_view</span> <span style=color:#58a1dd>file</span>,
</span></span><span style=display:flex><span>                                                      <span style=color:#58a1dd>bela</span><span style=color:#ff636f>::</span><span style=color:#58a1dd>error_code</span> <span style=color:#ff636f>&amp;</span><span style=color:#58a1dd>ec</span>);
</span></span></code></pre></div><p>é€šè¿‡æ­¤å‡½æ•°ï¼Œä½ å¯ä»¥è·å¾— PE å¯æ‰§è¡Œæ–‡ä»¶çš„ç›®æ ‡æœºå™¨ç±»å‹ï¼Œå­ç³»ç»Ÿï¼Œè¿æ¥å™¨ç‰ˆæœ¬ï¼Œç³»ç»Ÿç‰ˆæœ¬ï¼ŒImage ç‰ˆæœ¬ï¼ŒPE çš„ç‰¹å¾ï¼ŒPE ä¾èµ–çš„ dll å’Œå»¶æ—¶åŠ è½½çš„ dllã€‚å¦‚æœæ˜¯ CLR PE æ–‡ä»¶ï¼Œåˆ™clrmsg ä¸ä¸ºç©ºæè¿°çš„æ˜¯ CLR çš„ä¿¡æ¯ã€‚<code>PESimpleDetailsAze</code> å¹¶ä¸ä¾èµ– <code>DbgHelp.dll (ImageRvaToVa)</code>ã€‚</p><h1 id=æœ€å>æœ€å</h1><p>Bela åº”è¯¥æ˜¯ä¸æ–­å‘å±•çš„ï¼Œå¦‚æœæˆ‘æœ‰æ–°çš„ Idea äº†ï¼Œå°±ä¼šåŠæ—¶çš„ç§»æ¤è¿›å»çš„ã€‚</p><hr width=100% id=EOF><p style=color:#777>Last modified on 2019-05-25</p></div></div><nav class=post-pagination><a class=newer-posts href=/posts/2019/2019-06-25-talk-computer-update/>Next<br>åå’Œæ”¾å®½ - æ‚¨çš„è®¡ç®—æœºéœ€è¦æ›´æ–°
</a><a class=older-posts href=/posts/2019/2019-04-29-string-formatting-talk/>Previous<br>å­—ç¬¦ä¸²æ ¼å¼åŒ–æ¼«è°ˆ</a></nav><div class=post-comment-wrapper></div></div></div></div></div><div id=sideContainer class=side-container><a class="a-block nav-head false" href=https://forcemz.net/><div class=nav-title>Charlie's Rethinking</div><div class=nav-subtitle>Themed by Diary.</div></a><div class=nav-link-list><a class="a-block nav-link-item active" href=/posts>å½’æ¡£
</a><a class="a-block nav-link-item false" href=/categories>åˆ†ç±»
</a><a class="a-block nav-link-item false" href=/tags>æ ‡ç­¾
</a><a class="a-block nav-link-item false" href=/about>å…³äº
</a><a class="a-block nav-link-item false" href=/index.xml>RSS Feed</a></div><div class=nav-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><div id=extraContainer class=extra-container><div class=toc-wrapper><div class=toc><div class=toc-content><center>- CATALOG -</center><ul><li><a href=#%e5%89%8d%e8%a8%80 class=nav-å‰è¨€>å‰è¨€</a></li><li><a href=#%e4%b8%80-bela-%e7%9a%84%e7%bc%98%e7%94%b1 class=nav-ä¸€-bela-çš„ç¼˜ç”±>ä¸€. Bela çš„ç¼˜ç”±</a></li><li><a href=#%e4%ba%8c-bela-%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8a%9f%e8%83%bd%e5%ba%93 class=nav-äºŒ-bela-å­—ç¬¦ä¸²åŠŸèƒ½åº“>äºŒ. Bela å­—ç¬¦ä¸²åŠŸèƒ½åº“</a></li><ul><li><a href=#belaerror_code class=nav-belaerror_code>bela::error_code</a></li><li><a href=#stringcat class=nav-stringcat>StringCat</a></li><li><a href=#ascii class=nav-ascii>Ascii</a></li><li><a href=#%e5%85%b6%e4%bb%96%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%87%bd%e6%95%b0 class=nav-å…¶ä»–å­—ç¬¦ä¸²å‡½æ•°>å…¶ä»–å­—ç¬¦ä¸²å‡½æ•°</a></li><li><a href=#%e7%bc%96%e7%a0%81%e8%bd%ac%e6%8d%a2 class=nav-ç¼–ç è½¬æ¢>ç¼–ç è½¬æ¢</a></li><li><a href=#strformat class=nav-strformat>StrFormat</a></li></ul><li><a href=#%e4%b8%89-bela-windows-%e7%b3%bb%e7%bb%9f%e5%8a%9f%e8%83%bd%e5%ba%93 class=nav-ä¸‰-bela-windows-ç³»ç»ŸåŠŸèƒ½åº“>ä¸‰. Bela Windows ç³»ç»ŸåŠŸèƒ½åº“</a></li><ul><li><a href=#belafinaly class=nav-belafinaly>bela::finaly</a></li><li><a href=#pathcat-%e8%b7%af%e5%be%84%e8%a7%84%e8%8c%83%e5%8c%96%e8%bf%9e%e6%8e%a5%e5%87%bd%e6%95%b0 class=nav-pathcat-è·¯å¾„è§„èŒƒåŒ–è¿æ¥å‡½æ•°>PathCat è·¯å¾„è§„èŒƒåŒ–è¿æ¥å‡½æ•°</a></li><li><a href=#pathexists-%e5%87%bd%e6%95%b0 class=nav-pathexists-å‡½æ•°>PathExists å‡½æ•°</a></li><li><a href=#lookuprealpath-%e5%87%bd%e6%95%b0 class=nav-lookuprealpath-å‡½æ•°>LookupRealPath å‡½æ•°</a></li><li><a href=#lookupappexeclinktarget-%e5%87%bd%e6%95%b0 class=nav-lookupappexeclinktarget-å‡½æ•°>LookupAppExecLinkTarget å‡½æ•°</a></li><li><a href=#executableexistsinpath-%e6%9f%a5%e6%89%be%e5%8f%af%e6%89%a7%e8%a1%8c%e6%96%87%e4%bb%b6 class=nav-executableexistsinpath-æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶>ExecutableExistsInPath æŸ¥æ‰¾å¯æ‰§è¡Œæ–‡ä»¶</a></li><li><a href=#%e5%91%bd%e4%bb%a4%e8%a1%8c%e5%90%88%e6%88%90%e6%8b%86%e5%88%86%e5%92%8c%e8%a7%a3%e6%9e%90 class=nav-å‘½ä»¤è¡Œåˆæˆæ‹†åˆ†å’Œè§£æ>å‘½ä»¤è¡Œåˆæˆï¼Œæ‹†åˆ†å’Œè§£æ</a></li><li><a href=#mapview class=nav-mapview>MapView</a></li><li><a href=#pesimpledetailsaze-%e8%8e%b7%e5%be%97-pe-%e7%9a%84%e7%ae%80%e5%8d%95%e4%bf%a1%e6%81%af class=nav-pesimpledetailsaze-è·å¾—-pe-çš„ç®€å•ä¿¡æ¯>PESimpleDetailsAze è·å¾— PE çš„ç®€å•ä¿¡æ¯</a></li></ul><li><a href=#%e6%9c%80%e5%90%8e class=nav-æœ€å>æœ€å</a></li></ul></div></div></div><div class=pagination><a id=globalBackToTop class="pagination-action animated-visibility" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up
</i></a><a type=button class=pagination-action id=darkModeToggleButton><span class="material-icons pagination-action-icon" id=darkModeToggleIcon>dark_mode</span></a></div></div><div id=single-column-footer>Hugo Theme <a href=https://github.com/amazingrise/hugo-theme-diary>Diary</a> by <a href=https://risehere.net/>Rise</a><br>Ported from <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a>'s <a href=https://github.com/SumiMakito/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal.</a><br><br>&copy;
Copyright (c) 2009-2024 J23</div></div><script src=/js/journal.js></script></body></html>